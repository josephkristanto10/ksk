{
    "sourceFile": "process/master_transaction_disp_department.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 174,
            "patches": [
                {
                    "date": 1632884923748,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1632884954398,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,41 +451,6 @@\n     $stat = $_POST['stat'];\r\n     $sql = \"update asset set status = '\".$stat.\"' where id = '\".$myid.\"'\";\r\n     $res = $conn->query($sql);\r\n }\r\n-else if($tipe == \"getsubgroup\")\r\n-{\r\n-    $getid = $_POST['idgroup'];\r\n-    $sql = \"select ks.id, ks.subgroup from kategori_subgroup ks where ks.idkategoriaset = '\".$getid.\"' and ks.status = 'Active'\";\r\n-    $res = $conn->query($sql);\r\n-    $mystring = \"\";\r\n-    if($res -> num_rows>0)\r\n-    {\r\n-        while($r = mysqli_fetch_array($res))\r\n-        {\r\n-            $mystring .= \"<option value = '\".$r['id'].\"' >\".$r['subgroup'].\"</option>\";\r\n-        }\r\n-        echo $mystring;\r\n-    }\r\n-    else{\r\n-        echo \"none\";\r\n-    }\r\n-}\r\n-else if($tipe == \"getcategory\")\r\n-{\r\n-    $getid = $_POST['idsubgroup'];\r\n-    $sql = \"select kcs.id, kcs.category from kategori_categorysubgroup kcs where kcs.idsubgroup = '\".$getid.\"' and kcs.status = 'Active'\";\r\n-    $res = $conn->query($sql);\r\n-    $mystring = \"\";\r\n-    if($res -> num_rows>0)\r\n-    {\r\n-        while($r = mysqli_fetch_array($res))\r\n-        {\r\n-            $mystring .= \"<option value = '\".$r['id'].\"' >\".$r['category'].\"</option>\";\r\n-        }\r\n-        echo $mystring;\r\n-    }\r\n-    else{\r\n-        echo \"none\";\r\n-    }\r\n-}\r\n+\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632884959842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,6 +451,6 @@\n     $stat = $_POST['stat'];\r\n     $sql = \"update asset set status = '\".$stat.\"' where id = '\".$myid.\"'\";\r\n     $res = $conn->query($sql);\r\n }\r\n-\r\n+else if($tipe == \"get\")\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632884965837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -451,6 +451,9 @@\n     $stat = $_POST['stat'];\r\n     $sql = \"update asset set status = '\".$stat.\"' where id = '\".$myid.\"'\";\r\n     $res = $conn->query($sql);\r\n }\r\n-else if($tipe == \"get\")\r\n+else if($tipe == \"getassetdesc\")\r\n+{\r\n+    \r\n+}\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632884972543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,7 +453,8 @@\n     $res = $conn->query($sql);\r\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n-    \r\n+    // $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition \";\r\n+\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632884989819,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,8 +453,9 @@\n     $res = $conn->query($sql);\r\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n-    // $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition \";\r\n+    $assetid = $_POST['assetid'];\r\n+    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition \";\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885000106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -454,8 +454,8 @@\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n-    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition \";\r\n+    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition where asset. \";\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885006832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -454,8 +454,8 @@\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n-    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition where asset. \";\r\n+    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$' \";\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885014670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -454,8 +454,10 @@\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n-    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset inner join conditions c on c.id = asset.idcondition inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$' \";\r\n+    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n+     inner join conditions c on c.id = asset.idcondition \r\n+    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$' \";\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885021634,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,8 +456,8 @@\n {\r\n     $assetid = $_POST['assetid'];\r\n     $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n      inner join conditions c on c.id = asset.idcondition \r\n-    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$' \";\r\n+    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid' \";\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885032416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -456,8 +456,9 @@\n {\r\n     $assetid = $_POST['assetid'];\r\n     $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n      inner join conditions c on c.id = asset.idcondition \r\n-    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid' \";\r\n+    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n+    $res = $conn->query($sql);\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885054642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,7 +458,8 @@\n     $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n      inner join conditions c on c.id = asset.idcondition \r\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n+    $mystring = \"\"\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885065895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,8 +458,9 @@\n     $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n      inner join conditions c on c.id = asset.idcondition \r\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n-    $mystring = \"\"\r\n+    $row = mysqli_fetch_array($res);\r\n+    $mystring = \"\";\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885073268,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -459,8 +459,9 @@\n      inner join conditions c on c.id = asset.idcondition \r\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n-    $mystring = \"\";\r\n+    \r\n+    $mystring = $row[];\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885103965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,8 +460,8 @@\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row[];\r\n+    $mystring = $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" ;\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885110052,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,8 +460,8 @@\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" ;\r\n+    $mystring = $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'];\r\n \r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885222331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -461,7 +461,7 @@\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n     $mystring = $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'];\r\n-\r\n+    echo $mystring\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885228352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,8 +460,8 @@\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'];\r\n-    echo $mystring\r\n+    $mystring = $row['noasset'] + \"~~\" + $row['name'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'];\r\n+    echo $mystring;\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885236436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,8 +460,8 @@\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row['noasset'] + \"~~\" + $row['name'] + \"~~\" + $row['noasset'] + \"~~\" + $row['noasset'];\r\n+    $mystring = $row['noasset'] + \"~~\" + $row['name'] + \"~~\" + $row['condition'] + \"~~\" + $row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885711923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -454,14 +454,14 @@\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n-    $sqlasset = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n+    $sql = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n      inner join conditions c on c.id = asset.idcondition \r\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row['noasset'] + \"~~\" + $row['name'] + \"~~\" + $row['condition'] + \"~~\" + $row['initial_condition'];\r\n+    $mystring = $row['noasset'].\"~~\".$row['name'].$row['condition'].$row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885722600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,8 +460,8 @@\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row['noasset'].\"~~\".$row['name'].$row['condition'].$row['initial_condition'];\r\n+    $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['condition'].\"~~\".$row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632885732691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,8 +460,8 @@\n     inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['condition'].\"~~\".$row['initial_condition'];\r\n+    $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887779594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -463,5 +463,15 @@\n     \r\n     $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n+else if($tipe == \"getbranch\")\r\n+{\r\n+    $idbranch = $_POST['idbranch'];\r\n+    $sql = \"SELECT lroom.* FROM location_room lroom \r\n+    inner join location_setup_building_floor lsbf on lsbf.idlocationsetupbuildingfloor = lroom.idsetupbuildingfloor\r\n+    inner join location_building lbuilding on lbuilding.id = lsbf.idbuilding\r\n+    inner join location_setup_sister_branch lssb on lssb.idsetupsisterbranch = lbuilding.idsetupsisterbranch\r\n+    inner join location_branch lbranch on lbranch.idbranch = lssb.idbranch\r\n+    where lbranch.idbranch = '2'\"\r\n+}\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887785225,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -471,7 +471,7 @@\n     inner join location_setup_building_floor lsbf on lsbf.idlocationsetupbuildingfloor = lroom.idsetupbuildingfloor\r\n     inner join location_building lbuilding on lbuilding.id = lsbf.idbuilding\r\n     inner join location_setup_sister_branch lssb on lssb.idsetupsisterbranch = lbuilding.idsetupsisterbranch\r\n     inner join location_branch lbranch on lbranch.idbranch = lssb.idbranch\r\n-    where lbranch.idbranch = '2'\"\r\n+    where lbranch.idbranch = '$idbranch'\";\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887826736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -472,6 +472,7 @@\n     inner join location_building lbuilding on lbuilding.id = lsbf.idbuilding\r\n     inner join location_setup_sister_branch lssb on lssb.idsetupsisterbranch = lbuilding.idsetupsisterbranch\r\n     inner join location_branch lbranch on lbranch.idbranch = lssb.idbranch\r\n     where lbranch.idbranch = '$idbranch'\";\r\n+    $res = $conn->query($sql);\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887837566,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -473,6 +473,10 @@\n     inner join location_setup_sister_branch lssb on lssb.idsetupsisterbranch = lbuilding.idsetupsisterbranch\r\n     inner join location_branch lbranch on lbranch.idbranch = lssb.idbranch\r\n     where lbranch.idbranch = '$idbranch'\";\r\n     $res = $conn->query($sql);\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        \r\n+    }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887910416,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -473,10 +473,11 @@\n     inner join location_setup_sister_branch lssb on lssb.idsetupsisterbranch = lbuilding.idsetupsisterbranch\r\n     inner join location_branch lbranch on lbranch.idbranch = lssb.idbranch\r\n     where lbranch.idbranch = '$idbranch'\";\r\n     $res = $conn->query($sql);\r\n+    $mystring = \"\";\r\n     if($res -> num_rows>0)\r\n     {\r\n-        \r\n+\r\n     }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887921707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -476,8 +476,11 @@\n     $res = $conn->query($sql);\r\n     $mystring = \"\";\r\n     if($res -> num_rows>0)\r\n     {\r\n-\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            \r\n+        }\r\n     }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887941275,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -478,9 +478,9 @@\n     if($res -> num_rows>0)\r\n     {\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n-            \r\n+            $mystring .= \"<option value = ''\"\r\n         }\r\n     }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887950042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -478,9 +478,9 @@\n     if($res -> num_rows>0)\r\n     {\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n-            $mystring .= \"<option value = ''\"\r\n+            $mystring .= \"<option value = '\"..\"'\"\r\n         }\r\n     }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887963102,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -478,9 +478,9 @@\n     if($res -> num_rows>0)\r\n     {\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n-            $mystring .= \"<option value = '\"..\"'\"\r\n+            $mystring .= \"<option value = '\"..\"'> \"..\"</option>\";\r\n         }\r\n     }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887976959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -478,9 +478,9 @@\n     if($res -> num_rows>0)\r\n     {\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n-            $mystring .= \"<option value = '\"..\"'> \"..\"</option>\";\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \"..\"</option>\";\r\n         }\r\n     }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632887982139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -478,9 +478,9 @@\n     if($res -> num_rows>0)\r\n     {\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n-            $mystring .= \"<option value = '\".$r['id'].\"'> \"..\"</option>\";\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['room'].\"</option>\";\r\n         }\r\n     }\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632888057689,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -481,6 +481,7 @@\n         {\r\n             $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['room'].\"</option>\";\r\n         }\r\n     }\r\n+    echo $mystring;\r\n }\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632888077896,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -463,9 +463,9 @@\n     \r\n     $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n-else if($tipe == \"getbranch\")\r\n+else if($tipe == \"getroom\")\r\n {\r\n     $idbranch = $_POST['idbranch'];\r\n     $sql = \"SELECT lroom.* FROM location_room lroom \r\n     inner join location_setup_building_floor lsbf on lsbf.idlocationsetupbuildingfloor = lroom.idsetupbuildingfloor\r\n"
                },
                {
                    "date": 1632896416997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -463,8 +463,20 @@\n     \r\n     $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n+else if($tipe == \"getassetdesc\")\r\n+{\r\n+    $assetid = $_POST['assetid'];\r\n+    $sql = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n+     inner join conditions c on c.id = asset.idcondition \r\n+    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n+    $res = $conn->query($sql);\r\n+    $row = mysqli_fetch_array($res);\r\n+    \r\n+    $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n+    echo $mystring;\r\n+}\r\n else if($tipe == \"getroom\")\r\n {\r\n     $idbranch = $_POST['idbranch'];\r\n     $sql = \"SELECT lroom.* FROM location_room lroom \r\n"
                },
                {
                    "date": 1632896430719,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -466,11 +466,9 @@\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n-     inner join conditions c on c.id = asset.idcondition \r\n-    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n+    $sql = \"select asset.id, asset.noasset, asset.name from \";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n     $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n"
                },
                {
                    "date": 1632896451349,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -466,9 +466,9 @@\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name from \";\r\n+    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n     $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n"
                },
                {
                    "date": 1632896459601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -466,9 +466,9 @@\n }\r\n else if($tipe == \"getassetdesc\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup\";\r\n+    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = ''\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n     $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n"
                },
                {
                    "date": 1632896488119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -463,9 +463,9 @@\n     \r\n     $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n     echo $mystring;\r\n }\r\n-else if($tipe == \"getassetdesc\")\r\n+else if($tipe == \"getassetlist\")\r\n {\r\n     $assetid = $_POST['assetid'];\r\n     $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = ''\";\r\n     $res = $conn->query($sql);\r\n"
                },
                {
                    "date": 1632896494668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -465,9 +465,9 @@\n     echo $mystring;\r\n }\r\n else if($tipe == \"getassetlist\")\r\n {\r\n-    $assetid = $_POST['assetid'];\r\n+    $idgroup = $_POST['idgroup'];\r\n     $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = ''\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n"
                },
                {
                    "date": 1632896506425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -466,13 +466,20 @@\n }\r\n else if($tipe == \"getassetlist\")\r\n {\r\n     $idgroup = $_POST['idgroup'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = ''\";\r\n+    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     \r\n-    $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n+    $mystring = \"\";\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['room'].\"</option>\";\r\n+        }\r\n+    }\r\n     echo $mystring;\r\n }\r\n else if($tipe == \"getroom\")\r\n {\r\n"
                },
                {
                    "date": 1632896530701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -469,15 +469,14 @@\n     $idgroup = $_POST['idgroup'];\r\n     $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n-    \r\n     $mystring = \"\";\r\n     if($res -> num_rows>0)\r\n     {\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n-            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['room'].\"</option>\";\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['noasset'].\"-\".$r['name'].\"</option>\";\r\n         }\r\n     }\r\n     echo $mystring;\r\n }\r\n"
                },
                {
                    "date": 1632896614286,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n <?php\r\n require '../connection.php';\r\n session_start();\r\n+$myses = $_SESSION['idsister'];\r\n $tipe = $_POST['tipe'];\r\n if($tipe == \"load\")\r\n {\r\n \r\n"
                },
                {
                    "date": 1632896640019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -467,9 +467,9 @@\n }\r\n else if($tipe == \"getassetlist\")\r\n {\r\n     $idgroup = $_POST['idgroup'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup'\";\r\n+    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup' and asset.idsistercompany\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     $mystring = \"\";\r\n     if($res -> num_rows>0)\r\n"
                },
                {
                    "date": 1632896645436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -467,9 +467,9 @@\n }\r\n else if($tipe == \"getassetlist\")\r\n {\r\n     $idgroup = $_POST['idgroup'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup' and asset.idsistercompany\";\r\n+    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup' and asset.idsistercompany = '$myses'\";\r\n     $res = $conn->query($sql);\r\n     $row = mysqli_fetch_array($res);\r\n     $mystring = \"\";\r\n     if($res -> num_rows>0)\r\n"
                },
                {
                    "date": 1632897188390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -478,9 +478,9 @@\n         {\r\n             $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['noasset'].\"-\".$r['name'].\"</option>\";\r\n         }\r\n     }\r\n-    echo $mystring;\r\n+    echo $sql;\r\n }\r\n else if($tipe == \"getroom\")\r\n {\r\n     $idbranch = $_POST['idbranch'];\r\n"
                },
                {
                    "date": 1632897239786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -469,18 +469,18 @@\n {\r\n     $idgroup = $_POST['idgroup'];\r\n     $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup' and asset.idsistercompany = '$myses'\";\r\n     $res = $conn->query($sql);\r\n-    $row = mysqli_fetch_array($res);\r\n+    // $row = mysqli_fetch_array($res);\r\n     $mystring = \"\";\r\n     if($res -> num_rows>0)\r\n     {\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n             $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['noasset'].\"-\".$r['name'].\"</option>\";\r\n         }\r\n     }\r\n-    echo $sql;\r\n+    echo $mystring;\r\n }\r\n else if($tipe == \"getroom\")\r\n {\r\n     $idbranch = $_POST['idbranch'];\r\n"
                },
                {
                    "date": 1632897744141,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -395,9 +395,16 @@\n \r\n }\r\n else if($tipe == \"add\"){\r\n \r\n-    $idsister = $_SESSION['idsister'];\r\n+    mygroup: group,\r\n+    myasset: asset,\r\n+    mybranch: branch,\r\n+    mydepartment: department,\r\n+    myfromroom: fromroom,\r\n+    mytoroom: toroom,\r\n+    myremark: remark\r\n+    $idsister = $_SESSION['mygroup'];\r\n     $group = $_POST['group'];\r\n     $subgroup = $_POST['subgroup'];\r\n     $category = $_POST['category'];\r\n     $initialcondition = $_POST['initialcondition'];\r\n"
                },
                {
                    "date": 1632897773537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -402,11 +402,11 @@\n     mydepartment: department,\r\n     myfromroom: fromroom,\r\n     mytoroom: toroom,\r\n     myremark: remark\r\n-    $idsister = $_SESSION['mygroup'];\r\n-    $group = $_POST['group'];\r\n-    $subgroup = $_POST['subgroup'];\r\n+    $idsister = myses;\r\n+    $group = $_POST['myasset'];\r\n+    $subgroup = $_POST['mybranch'];\r\n     $category = $_POST['category'];\r\n     $initialcondition = $_POST['initialcondition'];\r\n     $condition = $_POST['condition'];\r\n     $noasset = $_POST['noasset'];\r\n"
                },
                {
                    "date": 1632897778978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -402,10 +402,10 @@\n     mydepartment: department,\r\n     myfromroom: fromroom,\r\n     mytoroom: toroom,\r\n     myremark: remark\r\n-    $idsister = myses;\r\n-    $group = $_POST['myasset'];\r\n+    $idsister = $myses;\r\n+    $group = $_POST['mygroup'];\r\n     $subgroup = $_POST['mybranch'];\r\n     $category = $_POST['category'];\r\n     $initialcondition = $_POST['initialcondition'];\r\n     $condition = $_POST['condition'];\r\n"
                },
                {
                    "date": 1632897784193,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -404,11 +404,11 @@\n     mytoroom: toroom,\r\n     myremark: remark\r\n     $idsister = $myses;\r\n     $group = $_POST['mygroup'];\r\n-    $subgroup = $_POST['mybranch'];\r\n-    $category = $_POST['category'];\r\n-    $initialcondition = $_POST['initialcondition'];\r\n+    $subgroup = $_POST['myasset'];\r\n+    $category = $_POST['mybranch'];\r\n+    $initialcondition = $_POST['mydepartment'];\r\n     $condition = $_POST['condition'];\r\n     $noasset = $_POST['noasset'];\r\n     $name = $_POST['name'];\r\n \r\n"
                },
                {
                    "date": 1632897790588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,11 +407,11 @@\n     $group = $_POST['mygroup'];\r\n     $subgroup = $_POST['myasset'];\r\n     $category = $_POST['mybranch'];\r\n     $initialcondition = $_POST['mydepartment'];\r\n-    $condition = $_POST['condition'];\r\n-    $noasset = $_POST['noasset'];\r\n-    $name = $_POST['name'];\r\n+    $condition = $_POST['myfromroom'];\r\n+    $noasset = $_POST['mytoroom'];\r\n+    $name = $_POST['myremark'];\r\n \r\n     $sql = \"INSERT into asset values(NULL,'\".$idsister.\"', '\".$group.\"', '\".$subgroup.\"', '\".$category.\"', '\".$initialcondition.\"', '\".$condition.\"', '\".$noasset.\"', '\".$name.\"', 'Active', NULL, NULL)\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n"
                },
                {
                    "date": 1632897795866,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -403,11 +403,11 @@\n     myfromroom: fromroom,\r\n     mytoroom: toroom,\r\n     myremark: remark\r\n     $idsister = $myses;\r\n-    $group = $_POST['mygroup'];\r\n-    $subgroup = $_POST['myasset'];\r\n-    $category = $_POST['mybranch'];\r\n+    $mygroup = $_POST['mygroup'];\r\n+    $myasset = $_POST['myasset'];\r\n+    $mybranch = $_POST['mybranch'];\r\n     $initialcondition = $_POST['mydepartment'];\r\n     $condition = $_POST['myfromroom'];\r\n     $noasset = $_POST['mytoroom'];\r\n     $name = $_POST['myremark'];\r\n"
                },
                {
                    "date": 1632897802010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -406,12 +406,12 @@\n     $idsister = $myses;\r\n     $mygroup = $_POST['mygroup'];\r\n     $myasset = $_POST['myasset'];\r\n     $mybranch = $_POST['mybranch'];\r\n-    $initialcondition = $_POST['mydepartment'];\r\n-    $condition = $_POST['myfromroom'];\r\n-    $noasset = $_POST['mytoroom'];\r\n-    $name = $_POST['myremark'];\r\n+    $mydepartment = $_POST['mydepartment'];\r\n+    $myfromroom = $_POST['myfromroom'];\r\n+    $mytoroom = $_POST['mytoroom'];\r\n+    $myremark = $_POST['myremark'];\r\n \r\n     $sql = \"INSERT into asset values(NULL,'\".$idsister.\"', '\".$group.\"', '\".$subgroup.\"', '\".$category.\"', '\".$initialcondition.\"', '\".$condition.\"', '\".$noasset.\"', '\".$name.\"', 'Active', NULL, NULL)\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n"
                },
                {
                    "date": 1632897807544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -395,15 +395,8 @@\n \r\n }\r\n else if($tipe == \"add\"){\r\n \r\n-    mygroup: group,\r\n-    myasset: asset,\r\n-    mybranch: branch,\r\n-    mydepartment: department,\r\n-    myfromroom: fromroom,\r\n-    mytoroom: toroom,\r\n-    myremark: remark\r\n     $idsister = $myses;\r\n     $mygroup = $_POST['mygroup'];\r\n     $myasset = $_POST['myasset'];\r\n     $mybranch = $_POST['mybranch'];\r\n"
                },
                {
                    "date": 1632898223470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -404,9 +404,10 @@\n     $myfromroom = $_POST['myfromroom'];\r\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n \r\n-    $sql = \"INSERT into asset values(NULL,'\".$idsister.\"', '\".$group.\"', '\".$subgroup.\"', '\".$category.\"', '\".$initialcondition.\"', '\".$condition.\"', '\".$noasset.\"', '\".$name.\"', 'Active', NULL, NULL)\";\r\n+    $sql = \"\r\n+    INSERT INTO `transaction_displacement_department` (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`) VALUES (NULL, 'TRX-0013', '1', '1', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898244550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -405,9 +405,11 @@\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n \r\n     $sql = \"\r\n-    INSERT INTO `transaction_displacement_department` (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`) VALUES (NULL, 'TRX-0013', '1', '1', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+    INSERT INTO `transaction_displacement_department` \r\n+    (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n+     VALUES (NULL, 'TRX---', '1', '1', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898260709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,9 +407,9 @@\n \r\n     $sql = \"\r\n     INSERT INTO `transaction_displacement_department` \r\n     (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '1', '1', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+     VALUES (NULL, 'TRX---', '$idsister', '1', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898266229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,9 +407,9 @@\n \r\n     $sql = \"\r\n     INSERT INTO `transaction_displacement_department` \r\n     (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '$idsister', '1', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898276495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,9 +407,9 @@\n \r\n     $sql = \"\r\n     INSERT INTO `transaction_displacement_department` \r\n     (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '2', '58', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898281593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,9 +407,9 @@\n \r\n     $sql = \"\r\n     INSERT INTO `transaction_displacement_department` \r\n     (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '2', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898286760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,9 +407,9 @@\n \r\n     $sql = \"\r\n     INSERT INTO `transaction_displacement_department` \r\n     (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '1', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898295267,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,9 +407,9 @@\n \r\n     $sql = \"\r\n     INSERT INTO `transaction_displacement_department` \r\n     (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '1', 'myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898303098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -407,9 +407,9 @@\n \r\n     $sql = \"\r\n     INSERT INTO `transaction_displacement_department` \r\n     (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', '0000-00-00 00:00:00');\";\r\n+     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898312287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -405,11 +405,9 @@\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n \r\n     $sql = \"\r\n-    INSERT INTO `transaction_displacement_department` \r\n-    (`id`, `notransaction`, `idsister`, `idbranch`, `idgroup`, `idasset`, `iddepartment`, `idfromroom`, `idtoroom`, `remark`, `status_approval`, `lead_time`)\r\n-     VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP');\";\r\n+    INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898318408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -404,10 +404,9 @@\n     $myfromroom = $_POST['myfromroom'];\r\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n \r\n-    $sql = \"\r\n-    INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP');\";\r\n+    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632898721108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,15 +26,11 @@\n     $search   = $response['search']['value'];\r\n     \r\n     $total_data = mysqli_query($conn, \r\n     \r\n-    \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n-    inner join relation on relation.id = asset.purchase_from \r\n-    inner join kategori_asset ka on ka.id = asset.idgroup\r\n-    inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n-    inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n-    inner join conditions c on c.id = asset.idcondition\r\n-    inner join initial_condition ic on ic.id = asset.idinitialcondition\r\n+    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+    inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+    inner join asset on asset.id = tdd.idasset where tdd.idsister = \"2\"\r\n     \"\r\n \r\n );\r\n     \r\n"
                },
                {
                    "date": 1632898728560,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n     $total_data = mysqli_query($conn, \r\n     \r\n     \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-    inner join asset on asset.id = tdd.idasset where tdd.idsister = \"2\"\r\n+    inner join asset on asset.id = tdd.idasset where tdd.idsister = '2$'\r\n     \"\r\n \r\n );\r\n     \r\n"
                },
                {
                    "date": 1632898737927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,21 +28,17 @@\n     $total_data = mysqli_query($conn, \r\n     \r\n     \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-    inner join asset on asset.id = tdd.idasset where tdd.idsister = '2$'\r\n+    inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n     \"\r\n \r\n );\r\n     \r\n     if(empty($search)) {\r\n-        $query_data = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n-         inner join relation on relation.id = asset.purchase_from \r\n-        inner join kategori_asset ka on ka.id = asset.idgroup\r\n-        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n-        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n-        inner join conditions c on c.id = asset.idcondition\r\n-        inner join initial_condition ic on ic.id = asset.idinitialcondition ORDER BY $order $dir LIMIT $start, $length\");\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n          inner join relation on relation.id = asset.purchase_from \r\n         inner join kategori_asset ka on ka.id = asset.idgroup\r\n"
                },
                {
                    "date": 1632898745257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,23 +38,15 @@\n         $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n-         inner join relation on relation.id = asset.purchase_from \r\n-        inner join kategori_asset ka on ka.id = asset.idgroup\r\n-        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n-        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n-        inner join conditions c on c.id = asset.idcondition\r\n-        inner join initial_condition ic on ic.id = asset.idinitialcondition \");\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n     } else {\r\n-        $query_data = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n-         inner join relation on relation.id = asset.purchase_from \r\n-        inner join kategori_asset ka on ka.id = asset.idgroup\r\n-        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n-        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n-        inner join conditions c on c.id = asset.idcondition\r\n-        inner join initial_condition ic on ic.id = asset.idinitialcondition \r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n         WHERE ka.nama LIKE '%$search%' \r\n         OR ks.subgroup LIKE '%$search%'\r\n         OR kc.category LIKE '%$search%'\r\n         OR ic.initial_condition LIKE '%$search%'\r\n"
                },
                {
                    "date": 1632898795923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,13 +44,13 @@\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n     } else {\r\n         $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n-        WHERE ka.nama LIKE '%$search%' \r\n-        OR ks.subgroup LIKE '%$search%'\r\n-        OR kc.category LIKE '%$search%'\r\n-        OR ic.initial_condition LIKE '%$search%'\r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n+         tdd.notransaction LIKE '%$search%' \r\n+        OR lbranch.branch LIKE '%$search%'\r\n+        OR asset.noasset LIKE '%$search%'\r\n+        OR asset.assetname LIKE '%$search%'\r\n         OR c.name LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.name LIKE '%$search%'\r\n         OR asset.status LIKE '%$search%' ORDER BY $order $dir LIMIT $start, $length\");\r\n"
                },
                {
                    "date": 1632898874067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,11 +49,11 @@\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.assetname LIKE '%$search%'\r\n-        OR c.name LIKE '%$search%'\r\n-        OR asset.noasset LIKE '%$search%'\r\n-        OR asset.name LIKE '%$search%'\r\n+        OR tdd.remark LIKE '%$search%'\r\n+        OR tdd.status_approval LIKE '%$search%'\r\n+        OR tdd.lead_time LIKE '%$search%'\r\n         OR asset.status LIKE '%$search%' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n          inner join relation on relation.id = asset.purchase_from \r\n"
                },
                {
                    "date": 1632898885071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,26 +51,20 @@\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.assetname LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%'\r\n-        OR tdd.lead_time LIKE '%$search%'\r\n-        OR asset.status LIKE '%$search%' ORDER BY $order $dir LIMIT $start, $length\");\r\n+        OR tdd.lead_time LIKE '%$search%' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n-         inner join relation on relation.id = asset.purchase_from \r\n-        inner join kategori_asset ka on ka.id = asset.idgroup\r\n-        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n-        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n-        inner join conditions c on c.id = asset.idcondition\r\n-        inner join initial_condition ic on ic.id = asset.idinitialcondition \r\n-        WHERE ka.nama LIKE '%$search%' \r\n-        OR ks.subgroup LIKE '%$search%'\r\n-        OR kc.category LIKE '%$search%'\r\n-        OR ic.initial_condition LIKE '%$search%'\r\n-        OR c.name LIKE '%$search%'\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n+         tdd.notransaction LIKE '%$search%' \r\n+        OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n-        OR asset.name LIKE '%$search%'\r\n-        OR asset.status LIKE '%$search%'\");\r\n+        OR asset.assetname LIKE '%$search%'\r\n+        OR tdd.remark LIKE '%$search%'\r\n+        OR tdd.status_approval LIKE '%$search%'\r\n+        OR tdd.lead_time LIKE '%$search%'\");\r\n     }\r\n     \r\n     $response['data'] = [];\r\n     \r\n"
                },
                {
                    "date": 1632898909879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,25 +70,8 @@\n     \r\n     if($query_data) {\r\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $mystats = \"\";\r\n-            if($row['status'] == \"Active\")\r\n-            {\r\n-                $myactionsetto = \"InActive\";\r\n-                $mystats = '<span class=\"badge badge-success\">Active</span>';\r\n-                $myaction = \"<a class='dropdown-item' onclick = setstatus('\".$row['id'].\"-\".$myactionsetto.\"')><i class='icon-check'></i>\r\n-                Set InActive</a>'\";\r\n-            }\r\n-            else\r\n-            {\r\n-                $myactionsetto = \"Active\";\r\n-                $mystats = '<span class=\"badge badge-danger\">InActive</span>';\r\n-                $myaction = \"<a class='dropdown-item' onclick = setstatus('\".$row['id'].\"-\".$myactionsetto.\"')><i class='icon-check'></i>\r\n-                Set Active</a>'\";\r\n-            }\r\n-            $postingdate = date_format(date_create($row['posting_date']), \"d-m-Y\");\r\n-            $startdate = date_format(date_create($row['start_date']), \"d-m-Y\");\r\n-            $enddate = date_format(date_create($row['end_date']), \"d-m-Y\");\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n@@ -97,22 +80,9 @@\n                 \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n                 \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n                 \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n-                \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n-                .\"<input type = 'hidden' id = 'nopo\".$row['id'].\"' value = '\".$row['noPo'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'relation\".$row['id'].\"'  value = '\".$row['myrelation'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'postingdate\".$row['id'].\"'  value = '\".$postingdate.\"'>\"\r\n-                .\"<input type = 'hidden' id = 'postingdateraw\".$row['id'].\"'  value = '\".$row['posting_date'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'purchaseprice\".$row['id'].\"'  value = '\".$row['purchase_price'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'ppn\".$row['id'].\"'  value = '\".$row['ppn'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'totalpurchaseprice\".$row['id'].\"'  value = '\".$row['total_purchase_price'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'economical\".$row['id'].\"'  value = '\".$row['economical'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'costpermonth\".$row['id'].\"'  value = '\".$row['cost_per_month'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'startdate\".$row['id'].\"'  value = '\".$startdate.\"'>\"\r\n-                .\"<input type = 'hidden' id = 'enddate\".$row['id'].\"'  value = '\".$enddate.\"'>\"\r\n-                .\"<input type = 'hidden' id = 'totalmonth\".$row['id'].\"'  value = '\".$row['totalmonth'].\"'>\"\r\n-                .\"<input type = 'hidden' id = 'image\".$row['id'].\"'  value = '\".$row['image'].\"'>\",\r\n+                \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\",\r\n                 ' <div class=\"list-icons\">\r\n                 <div class=\"dropdown\">\r\n                     <a href=\"#\" class=\"list-icons-item\" data-toggle=\"dropdown\">\r\n                         <i class=\"icon-menu9\"></i>\r\n"
                },
                {
                    "date": 1632898917491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,24 +80,9 @@\n                 \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n                 \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n                 \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n-                \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\",\r\n-                ' <div class=\"list-icons\">\r\n-                <div class=\"dropdown\">\r\n-                    <a href=\"#\" class=\"list-icons-item\" data-toggle=\"dropdown\">\r\n-                        <i class=\"icon-menu9\"></i>\r\n-                    </a>\r\n-    \r\n-                    <div class=\"dropdown-menu dropdown-menu-right\">\r\n-                        <a href=\"#myModaledit\" data-toggle=\"modal\" class=\"dropdown-item\" id =\"click-'.$row['id'].'-'.$row['idgroup'].'-'.$row['idsubgroup'].'-'.$row['idcategory'].'-'.$row['idinitialcondition'].'-'.$row['idcondition'].'\"  onclick = \"openmodaledit(this)\"><i class=\"icon-check\"></i>\r\n-                            Edit</a>\r\n-                        \r\n-                        '.$myaction.'\r\n-                   \r\n-                    </div>\r\n-                </div>\r\n-            </div>'\r\n+                \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n             ];\r\n         }\r\n     }\r\n     \r\n"
                },
                {
                    "date": 1632899037310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -336,9 +336,10 @@\n     $mydepartment = $_POST['mydepartment'];\r\n     $myfromroom = $_POST['myfromroom'];\r\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n-\r\n+    date_default_timezone_set(\"Asia/Bangkok\");\r\n+    $mydate = date(\"Y-m-d\");\r\n     $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n"
                },
                {
                    "date": 1632899058983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -338,9 +338,9 @@\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n     date_default_timezone_set(\"Asia/Bangkok\");\r\n     $mydate = date(\"Y-m-d\");\r\n-    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP');\";\r\n+    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632899113463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,9 +73,9 @@\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n+                \"<label id ='noasset\".$row['id'].\"'>\".$row['date'].\"</label>\",\r\n                 \"<label id ='name\".$row['id'].\"'>\".$row['name'].\"</label>\",\r\n                 \"<label id ='initial\".$row['id'].\"'>\".$row['initial_condition'].\"</label>\",\r\n                 \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632899130702,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,10 +72,10 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n-                \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='noasset\".$row['id'].\"'>\".$row['date'].\"</label>\",\r\n+                // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n+                \"<label id ='noasset\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='name\".$row['id'].\"'>\".$row['name'].\"</label>\",\r\n                 \"<label id ='initial\".$row['id'].\"'>\".$row['initial_condition'].\"</label>\",\r\n                 \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632899140701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n-                \"<label id ='name\".$row['id'].\"'>\".$row['name'].\"</label>\",\r\n+                \"<label id ='name\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='initial\".$row['id'].\"'>\".$row['initial_condition'].\"</label>\",\r\n                 \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n                 \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632899149540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,11 +73,11 @@\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='noasset\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n-                \"<label id ='name\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n-                \"<label id ='initial\".$row['id'].\"'>\".$row['initial_condition'].\"</label>\",\r\n+                \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n+                \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n+                \"<label id ='noasset\".$row['id'].\"'>\".$row['initial_condition'].\"</label>\",\r\n                 \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n                 \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n                 \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632899155774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,10 +75,10 @@\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n-                \"<label id ='noasset\".$row['id'].\"'>\".$row['initial_condition'].\"</label>\",\r\n-                \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n+                \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n+                \"<label id ='assetname\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n                 \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n                 \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n                 \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n"
                },
                {
                    "date": 1632899433597,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n-                \"<label id ='assetname\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n+                \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n                 \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n                 \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n                 \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n"
                },
                {
                    "date": 1632899772234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,18 +26,22 @@\n     $search   = $response['search']['value'];\r\n     \r\n     $total_data = mysqli_query($conn, \r\n     \r\n-    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+    inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+    inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n     inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n     \"\r\n \r\n );\r\n     \r\n     if(empty($search)) {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n"
                },
                {
                    "date": 1632899778565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,10 +42,12 @@\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n     } else {\r\n         $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n"
                },
                {
                    "date": 1632899783768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,10 +48,12 @@\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n     } else {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom\r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n"
                },
                {
                    "date": 1632899794181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,9 +51,9 @@\n     } else {\r\n         $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n@@ -61,10 +61,12 @@\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%'\r\n         OR tdd.lead_time LIKE '%$search%' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch FROM transaction_displacement_department tdd\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom\r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n"
                },
                {
                    "date": 1632899802836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n"
                },
                {
                    "date": 1632899820929,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,10 +87,10 @@\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n-                \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n-                \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n+                \"<label id ='group\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n+                \"<label id ='subgroup\".$row['id'].\"'>\".$row['roomto'].\"</label>\",\r\n                 \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n                 \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n             ];\r\n         }\r\n"
                },
                {
                    "date": 1632899834955,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -89,9 +89,10 @@\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='group\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n                 \"<label id ='subgroup\".$row['id'].\"'>\".$row['roomto'].\"</label>\",\r\n-                \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n+                \"<label id ='category\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n+                \"<label id ='category\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n                 \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n             ];\r\n         }\r\n     }\r\n"
                },
                {
                    "date": 1632899862695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,13 +87,13 @@\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n-                \"<label id ='group\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n-                \"<label id ='subgroup\".$row['id'].\"'>\".$row['roomto'].\"</label>\",\r\n-                \"<label id ='category\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n-                \"<label id ='category\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n-                \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n+                \"<label id ='roomfrom\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n+                \"<label id ='roomto\".$row['id'].\"'>\".$row['roomto'].\"</label>\",\r\n+                \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n+                \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n+                \"<label id ='leadtime\".$row['id'].\"'>\".$$row['lead_time'].\"</label>\"\r\n             ];\r\n         }\r\n     }\r\n     \r\n"
                },
                {
                    "date": 1632899874141,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,8 +85,9 @@\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n+                \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n                 \"<label id ='roomto\".$row['id'].\"'>\".$row['roomto'].\"</label>\",\r\n"
                },
                {
                    "date": 1632899882276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,9 +85,9 @@\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n-                \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n+                \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n                 \"<label id ='roomto\".$row['id'].\"'>\".$row['roomto'].\"</label>\",\r\n"
                },
                {
                    "date": 1632900009786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n if($tipe == \"load\")\r\n {\r\n \r\n     $where_like = [\r\n-        'groupname',\r\n+        'assetname',\r\n         'subgroupname',\r\n         'categoryname',\r\n         'noasset',\r\n         'name',\r\n"
                },
                {
                    "date": 1632900016483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,11 +7,11 @@\n {\r\n \r\n     $where_like = [\r\n         'assetname',\r\n-        'subgroupname',\r\n-        'categoryname',\r\n         'noasset',\r\n+        'branch',\r\n+        'noasset',\r\n         'name',\r\n         'initial_condition',\r\n         'conditions',\r\n         'status'\r\n"
                },
                {
                    "date": 1632900022660,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,10 +9,10 @@\n     $where_like = [\r\n         'assetname',\r\n         'noasset',\r\n         'branch',\r\n-        'noasset',\r\n-        'name',\r\n+        'roomfroom',\r\n+        'toroom',\r\n         'initial_condition',\r\n         'conditions',\r\n         'status'\r\n         \r\n"
                },
                {
                    "date": 1632900029664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n         'noasset',\r\n         'branch',\r\n         'roomfroom',\r\n         'toroom',\r\n-        'initial_condition',\r\n+        'status_approval',\r\n         'conditions',\r\n         'status'\r\n         \r\n     ];\r\n"
                },
                {
                    "date": 1632900045627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,10 +12,9 @@\n         'branch',\r\n         'roomfroom',\r\n         'toroom',\r\n         'status_approval',\r\n-        'conditions',\r\n-        'status'\r\n+        'remark'\r\n         \r\n     ];\r\n     \r\n     $response = $_REQUEST;\r\n"
                },
                {
                    "date": 1632900142325,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,9 @@\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n+                \"<label id ='mydate\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632900151812,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,9 @@\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='mydate\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n+                \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632900204919,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,9 +88,9 @@\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n-                \"<label id ='roomto\".$row['id'].\"'>\".$row['roomto'].\"</label>\",\r\n+                \"<label id ='roomto\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n                 \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n                 \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n                 \"<label id ='leadtime\".$row['id'].\"'>\".$$row['lead_time'].\"</label>\"\r\n             ];\r\n"
                },
                {
                    "date": 1632900354276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,10 +57,9 @@\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.assetname LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n-        OR tdd.status_approval LIKE '%$search%'\r\n-        OR tdd.lead_time LIKE '%$search%' ORDER BY $order $dir LIMIT $start, $length\");\r\n+        OR tdd.status_approval LIKE '%$search%'  ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n@@ -70,10 +69,9 @@\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.assetname LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n-        OR tdd.status_approval LIKE '%$search%'\r\n-        OR tdd.lead_time LIKE '%$search%'\");\r\n+        OR tdd.status_approval LIKE '%$search%' LIKE '%$search%'\");\r\n     }\r\n     \r\n     $response['data'] = [];\r\n     \r\n@@ -88,9 +86,9 @@\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n-                \"<label id ='roomto\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n+                \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n                 \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n                 \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n                 \"<label id ='leadtime\".$row['id'].\"'>\".$$row['lead_time'].\"</label>\"\r\n             ];\r\n"
                },
                {
                    "date": 1632900521064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n     inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n     inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-    inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n+    inner join asset on asset.id = tdd.idasset where tdd.idsister = '1'\r\n     \"\r\n \r\n );\r\n     \r\n"
                },
                {
                    "date": 1632900614569,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n     \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n     inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n     inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-    inner join asset on asset.id = tdd.idasset where tdd.idsister = '1'\r\n+    inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n     \"\r\n \r\n );\r\n     \r\n"
                },
                {
                    "date": 1632900646369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n     $total_data = mysqli_query($conn, \r\n     \r\n     \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-    inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+    inner join location_room lfromroom on lfromroom.id = tdd.idfromroom \r\n     inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n     inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n     \"\r\n \r\n@@ -55,9 +55,9 @@\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n-        OR asset.assetname LIKE '%$search%'\r\n+        OR asset.name LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%'  ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n"
                },
                {
                    "date": 1632900734512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n-        OR asset.assetname LIKE '%$search%'\r\n+        OR asset.name LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%' LIKE '%$search%'\");\r\n     }\r\n     \r\n@@ -89,9 +89,9 @@\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n                 \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n                 \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n                 \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n-                \"<label id ='leadtime\".$row['id'].\"'>\".$$row['lead_time'].\"</label>\"\r\n+                \"<label id ='leadtime\".$row['id'].\"'>\".$row['lead_time'].\"</label>\"\r\n             ];\r\n         }\r\n     }\r\n     \r\n"
                },
                {
                    "date": 1632900765580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n+                \"<label id ='mydate\".$row['id'].\"'>\"1\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632900775668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='mydate\".$row['id'].\"'>\"1\"</label>\",\r\n+                \"<label id ='mydate\".$row['id'].\"'>\"\".$row['mydate'].\"\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632900829252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,12 +6,8 @@\n if($tipe == \"load\")\r\n {\r\n \r\n     $where_like = [\r\n-        'assetname',\r\n-        'noasset',\r\n-        'branch',\r\n-        'roomfroom',\r\n         'toroom',\r\n         'status_approval',\r\n         'remark'\r\n         \r\n@@ -80,9 +76,9 @@\n             $mystats = \"\";\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='mydate\".$row['id'].\"'>\"\".$row['mydate'].\"\"</label>\",\r\n+                \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n"
                },
                {
                    "date": 1632900931258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,12 @@\n if($tipe == \"load\")\r\n {\r\n \r\n     $where_like = [\r\n+        'assetname',\r\n+        'noasset',\r\n+        'branch',\r\n+        'roomfroom',\r\n         'toroom',\r\n         'status_approval',\r\n         'remark'\r\n         \r\n@@ -53,9 +57,9 @@\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.name LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n-        OR tdd.status_approval LIKE '%$search%'  ORDER BY $order $dir LIMIT $start, $length\");\r\n+        OR tdd.status_approval LIKE '%$search%' )  ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n@@ -65,9 +69,9 @@\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.name LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n-        OR tdd.status_approval LIKE '%$search%' LIKE '%$search%'\");\r\n+        OR tdd.status_approval LIKE '%$search%' )\");\r\n     }\r\n     \r\n     $response['data'] = [];\r\n     \r\n"
                },
                {
                    "date": 1632901073848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n     $search   = $response['search']['value'];\r\n     \r\n     $total_data = mysqli_query($conn, \r\n     \r\n-    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n     inner join location_room lfromroom on lfromroom.id = tdd.idfromroom \r\n     inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n     inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n"
                },
                {
                    "date": 1632901085169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,21 +35,21 @@\n \r\n );\r\n     \r\n     if(empty($search)) {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n     } else {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n@@ -59,9 +59,9 @@\n         OR asset.name LIKE '%$search%'\r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%' )  ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as roomfroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n"
                },
                {
                    "date": 1632901246943,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,9 +85,9 @@\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n-                \"<label id ='roomfrom\".$row['id'].\"'>\".$row['roomfrom'].\"</label>\",\r\n+                \"<label id ='roomfrom\".$row['id'].\"'>\".$row['myfromroom'].\"</label>\",\r\n                 \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n                 \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n                 \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n                 \"<label id ='leadtime\".$row['id'].\"'>\".$row['lead_time'].\"</label>\"\r\n"
                },
                {
                    "date": 1632901363622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,20 +77,25 @@\n     \r\n     if($query_data) {\r\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $mystats = \"\";\r\n+            if($row['status_approval'])\r\n+            {\r\n+                \r\n+            }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n+                \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                 \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['myfromroom'].\"</label>\",\r\n                 \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n                 \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n-                \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n+               \r\n                 \"<label id ='leadtime\".$row['id'].\"'>\".$row['lead_time'].\"</label>\"\r\n             ];\r\n         }\r\n     }\r\n"
                },
                {
                    "date": 1632901369164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,11 +77,11 @@\n     \r\n     if($query_data) {\r\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $mystats = \"\";\r\n-            if($row['status_approval'])\r\n+            if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                \r\n+\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901379199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $mystats = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-\r\n+                \r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901396706,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $mystats = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                \r\n+                <i class='icon-plus3'></i>\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901410294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,12 +76,12 @@\n     $response['data'] = [];\r\n     \r\n     if($query_data) {\r\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n-            $mystats = \"\";\r\n+            $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                <i class='icon-plus3'></i>\r\n+                $myapproval = '<i class='icon-plus3'></i>';\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901416644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = '<i class='icon-plus3'></i>';\r\n+                $myapproval = \"<i class='icon-plus3'></i>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901422644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<i class='icon-plus3'></i>\";\r\n+                $myapproval = \"Waiting <i class='icon-plus3'></i>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901432071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"Waiting <i class='icon-plus3'></i>\";\r\n+                $myapproval = \"Waiting <i class='mi-timer'></i>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901440404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='statusapproval\".$row['id'].\"'>\".$row['status_approval'].\"</label>\",\r\n+                \"<label id ='statusapproval\".$row['id'].\"'>\".$myapproval.\"</label>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n"
                },
                {
                    "date": 1632901456121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"Waiting <i class='mi-timer'></i>\";\r\n+                $myapproval = \"<i class='mi-timer'></i> Waiting \";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901479954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<i class='mi-timer'></i> Waiting \";\r\n+                $myapproval = \"<i class='mi-timer' style = 'color:'></i> Waiting \";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901503163,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<i class='mi-timer' style = 'color:'></i> Waiting \";\r\n+                $myapproval = \"<i class='mi-timer' style = 'color:#f0ab0a'></i> Waiting \";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901518522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<i class='mi-timer' style = 'color:#f0ab0a'></i> Waiting \";\r\n+                $myapproval = \"<i class='mi-timer' style = 'color:#f0ab0a'></i> &nbspWaiting \";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901533064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,14 +79,14 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<i class='mi-timer' style = 'color:#f0ab0a'></i> &nbspWaiting \";\r\n+                $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='statusapproval\".$row['id'].\"'>\".$myapproval.\"</label>\",\r\n+                \"<label id ='statusapproval\".$row['id'].\"'  style = 'color:#f0ab0a'>\".$myapproval.\"</label>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n"
                },
                {
                    "date": 1632901556754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='statusapproval\".$row['id'].\"'  style = 'color:#f0ab0a'>\".$myapproval.\"</label>\",\r\n+                \"<label id ='statusapproval\".$row['id'].\"'  style = 'color:#e68b02'>\".$myapproval.\"</label>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n"
                },
                {
                    "date": 1632901567338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<label id ='statusapproval\".$row['id'].\"'  style = 'color:#e68b02'>\".$myapproval.\"</label>\",\r\n+                \"<b><label id ='statusapproval\".$row['id'].\"'  style = 'color:#e68b02'>\".$myapproval.\"</label></b>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n"
                },
                {
                    "date": 1632901603227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,9 +84,9 @@\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<b><label id ='statusapproval\".$row['id'].\"'  style = 'color:#e68b02'>\".$myapproval.\"</label></b>\",\r\n+                \"<b><label id ='statusapproval\".$row['id'].\"'  style = 'color:#e3a302'>\".$myapproval.\"</label></b>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n"
                },
                {
                    "date": 1632901619903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,8 +81,12 @@\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n                 $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n             }\r\n+            if($row['status_approval'] == \"waiting\")\r\n+            {\r\n+                $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n+            }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<b><label id ='statusapproval\".$row['id'].\"'  style = 'color:#e3a302'>\".$myapproval.\"</label></b>\",\r\n"
                },
                {
                    "date": 1632901627797,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n                 $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n             }\r\n-            if($row['status_approval'] == \"waiting\")\r\n+            else if($row['status_approval'] == \"rejected\")\r\n             {\r\n                 $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n"
                },
                {
                    "date": 1632901642994,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,14 +83,14 @@\n                 $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n-                $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n+                $myapproval = \"<i class='mi-timer'></i> &nbsp rejected \";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<b><label id ='statusapproval\".$row['id'].\"'  style = 'color:#e3a302'>\".$myapproval.\"</label></b>\",\r\n+                \"<b><label id ='statusapproval\".$row['id'].\"'  >\".$myapproval.\"</label></b>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n"
                },
                {
                    "date": 1632901659150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<i class='mi-timer'></i> &nbsp Waiting \";\r\n+                $myapproval = \"<span><i class='mi-timer'></i> &nbsp Waiting \";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n                 $myapproval = \"<i class='mi-timer'></i> &nbsp rejected \";\r\n"
                },
                {
                    "date": 1632901666259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<span><i class='mi-timer'></i> &nbsp Waiting \";\r\n+                $myapproval = \"<span style = 'color:#e3a302'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n                 $myapproval = \"<i class='mi-timer'></i> &nbsp rejected \";\r\n"
                },
                {
                    "date": 1632901689806,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                 $myapproval = \"<span style = 'color:#e3a302'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n-                $myapproval = \"<i class='mi-timer'></i> &nbsp rejected \";\r\n+                $myapproval \"<span style = 'color:#e3a302'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901707060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                 $myapproval = \"<span style = 'color:#e3a302'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n-                $myapproval \"<span style = 'color:#e3a302'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901745640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                 $myapproval = \"<span style = 'color:#e3a302'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-timer'></i> &nbsp Rejected </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901782699,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e3a302'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n+                $myapproval = \"<span style = 'color:#e37e02'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-timer'></i> &nbsp Rejected </span>\";\r\n"
                },
                {
                    "date": 1632901875540,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                 $myapproval = \"<span style = 'color:#e37e02'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-timer'></i> &nbsp Rejected </span>\";\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632901996927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,8 +85,12 @@\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n+            else if($row['status_approval'] == \"rejected\")\r\n+            {\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n+            }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<b><label id ='statusapproval\".$row['id'].\"'  >\".$myapproval.\"</label></b>\",\r\n"
                },
                {
                    "date": 1632902005224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,460 @@\n+<?php\r\n+require '../connection.php';\r\n+session_start();\r\n+$myses = $_SESSION['idsister'];\r\n+$tipe = $_POST['tipe'];\r\n+if($tipe == \"load\")\r\n+{\r\n+\r\n+    $where_like = [\r\n+        'assetname',\r\n+        'noasset',\r\n+        'branch',\r\n+        'roomfroom',\r\n+        'toroom',\r\n+        'status_approval',\r\n+        'remark'\r\n+        \r\n+    ];\r\n+    \r\n+    $response = $_REQUEST;\r\n+    $start    = $response['start'];\r\n+    $length   = $response['length'];\r\n+    $order    = $where_like[$response['order'][0]['column']];\r\n+    $dir      = $response['order'][0]['dir'];\r\n+    $search   = $response['search']['value'];\r\n+    \r\n+    $total_data = mysqli_query($conn, \r\n+    \r\n+    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+    inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+    inner join location_room lfromroom on lfromroom.id = tdd.idfromroom \r\n+    inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n+    inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n+    \"\r\n+\r\n+);\r\n+    \r\n+    if(empty($search)) {\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n+    \r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n+    } else {\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n+         tdd.notransaction LIKE '%$search%' \r\n+        OR lbranch.branch LIKE '%$search%'\r\n+        OR asset.noasset LIKE '%$search%'\r\n+        OR asset.name LIKE '%$search%'\r\n+        OR tdd.remark LIKE '%$search%'\r\n+        OR tdd.status_approval LIKE '%$search%' )  ORDER BY $order $dir LIMIT $start, $length\");\r\n+    \r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n+        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n+        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n+         tdd.notransaction LIKE '%$search%' \r\n+        OR lbranch.branch LIKE '%$search%'\r\n+        OR asset.noasset LIKE '%$search%'\r\n+        OR asset.name LIKE '%$search%'\r\n+        OR tdd.remark LIKE '%$search%'\r\n+        OR tdd.status_approval LIKE '%$search%' )\");\r\n+    }\r\n+    \r\n+    $response['data'] = [];\r\n+    \r\n+    if($query_data) {\r\n+        while($row = mysqli_fetch_assoc($query_data)) {\r\n+            $myapproval = \"\";\r\n+            if($row['status_approval'] == \"waiting\")\r\n+            {\r\n+                $myapproval = \"<span style = 'color:#e37e02'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n+            }\r\n+            else if($row['status_approval'] == \"rejected\")\r\n+            {\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n+            }\r\n+            else if($row['status_approval'] == \"accepted\")\r\n+            {\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Accepted </span>\";\r\n+            }\r\n+            // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n+            $response['data'][] = [\r\n+                // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n+                \"<b><label id ='statusapproval\".$row['id'].\"'  >\".$myapproval.\"</label></b>\",\r\n+                \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n+                \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n+                \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n+                \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n+                \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n+                \"<label id ='roomfrom\".$row['id'].\"'>\".$row['myfromroom'].\"</label>\",\r\n+                \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n+                \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n+               \r\n+                \"<label id ='leadtime\".$row['id'].\"'>\".$row['lead_time'].\"</label>\"\r\n+            ];\r\n+        }\r\n+    }\r\n+    \r\n+    $response['recordsTotal'] = 0;\r\n+    if($total_data <> FALSE) {\r\n+        $response['recordsTotal'] = mysqli_num_rows($total_data);\r\n+    }\r\n+    \r\n+    $response['recordsFiltered'] = 0;\r\n+    if($total_filtered <> FALSE) {\r\n+        $response['recordsFiltered'] = mysqli_num_rows($total_filtered);\r\n+    }  \r\n+    \r\n+    echo json_encode($response);\r\n+}\r\n+else if($tipe == \"gettemplatecategory\")\r\n+{\r\n+    $idcategory = $_POST['idcategory'];\r\n+    $sql = \"select template.id, template.template from kategori_categorysubgroup kcs inner join template on template.id = kcs.idtemplate where kcs.id = '$idcategory'\";\r\n+    $res = $conn->query($sql);\r\n+    $row = mysqli_fetch_array($res);\r\n+    \r\n+    if($res->num_rows>0)\r\n+    {\r\n+        $idtemplate = $row['id'];\r\n+        $nametemplate = $row['template'];\r\n+        echo $idtemplate.\"~~~\";\r\n+        echo $nametemplate.\"~~~\";\r\n+        $sqls = \"select folder_custom.*, custom_to_template.id as idquestion  from custom_to_template inner join folder_custom on folder_custom.id = custom_to_template.idcustom where custom_to_template.idtemplate = '$idtemplate'\"; \r\n+        $ress = $conn->query($sqls);\r\n+        // echo $sqls;\r\n+        if($ress -> num_rows>0)\r\n+        {\r\n+            $mystring = \"\";\r\n+            $mycode = \"\";\r\n+            $myindex = 0 ;\r\n+            while($r = mysqli_fetch_array($ress))\r\n+            {\r\n+                if($myindex == 0)\r\n+                {\r\n+                    $mycode .= $r['id'];\r\n+                }\r\n+                else{\r\n+                    $mycode .= \",\".$r['id'];\r\n+                }\r\n+                $myindex++;\r\n+               \r\n+                $mystring .=  '\r\n+                <div class=\"row\">\r\n+                  <div class=\"col-md-12\">\r\n+                        <div class=\"form-group\">\r\n+                            <label>'.$r['name'].' </label>\r\n+                            <input type=\"text\" name=\"custom'.$r['idquestion'].'\" placeholder=\"Enter '.$r['name'].'\" class=\"form-control required\" id = \"startwarranty\"><br>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>';\r\n+            }\r\n+            echo $mycode.\"~~\".$mystring;\r\n+        }\r\n+        else{\r\n+            echo \"none\";\r\n+        }\r\n+    }\r\n+    else{\r\n+        echo \"another\";\r\n+    }\r\n+\r\n+}\r\n+else if($tipe == \"getallanswer\")\r\n+{\r\n+\r\n+    $idasset = $_POST['idassets'];\r\n+    $sql = \"select folder_custom.name as namequestion, custom_template_answer.answer from custom_template_answer \r\n+    inner join custom_to_template on custom_to_template.id = custom_template_answer.id_custom_to_template\r\n+    inner join folder_custom on folder_custom.id = custom_to_template.idcustom\r\n+    where custom_template_answer.idasset = '$idasset'\";\r\n+  \r\n+    $res = $conn->query($sql);\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        // echo $sql;\r\n+        $mystring = \"\";\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+        \r\n+            $mystring .=  '\r\n+            <div class=\"row\">\r\n+              <div class=\"col-md-12\">\r\n+                    <div class=\"form-group\">\r\n+                        <label>'.$r['namequestion'].' </label><br>\r\n+                        <b><label>'.$r['answer'].'</label></b>\r\n+                    </div>\r\n+                </div>\r\n+            </div>';\r\n+        }\r\n+        echo $mystring;\r\n+    }\r\n+    else{\r\n+        echo \"none\";\r\n+    }\r\n+}\r\n+else if($tipe == \"getcustomquestion\")\r\n+{\r\n+    $idtemplate = $_POST['idtemplate'];\r\n+    $sql = \"select folder_custom.*, custom_to_template.id as idquestion  from custom_to_template inner join folder_custom on folder_custom.id = custom_to_template.idcustom where custom_to_template.idtemplate = '$idtemplate'\"; \r\n+    $res = $conn->query($sql);\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        $mystring = \"\";\r\n+        $mycode = \"\";\r\n+        $myindex = 0 ;\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            if($myindex == 0)\r\n+            {\r\n+                $mycode .= $r['id'];\r\n+            }\r\n+            else{\r\n+                $mycode .= \",\".$r['id'];\r\n+            }\r\n+            $myindex++;\r\n+           \r\n+            $mystring .=  '\r\n+            <div class=\"row\">\r\n+              <div class=\"col-md-12\">\r\n+                    <div class=\"form-group\">\r\n+                        <label>'.$r['name'].' </label>\r\n+                        <input type=\"text\" name=\"custom'.$r['idquestion'].'\" placeholder=\"Enter '.$r['name'].'\" class=\"form-control required\" id = \"startwarranty\"><br>\r\n+                    </div>\r\n+                </div>\r\n+            </div>';\r\n+        }\r\n+        echo $mycode.\"~~\".$mystring;\r\n+    }\r\n+    else{\r\n+        echo \"none\";\r\n+    }\r\n+\r\n+}\r\n+else if($tipe == \"addassetform\")\r\n+{\r\n+ \r\n+    $statuspostingdate = \"no\";\r\n+    $date1= date_create($_POST['postingdate']);\r\n+   \r\n+    $date2=date_create(date(\"Y-m-d\"));\r\n+    $diff=date_diff($date1,$date2);\r\n+    $perbedaan =  $diff->format(\"%m\");\r\n+    if($perbedaan < 0)\r\n+    {\r\n+        $perbedaan = 0;\r\n+    }\r\n+    if(isset($_POST['statuspostingdate']))\r\n+    {\r\n+        $perbedaan+=1;\r\n+        $statuspostingdate =  \"yes\";\r\n+    }\r\n+    $totalmonth = $perbedaan; \r\n+    $noasset = $_POST['noasset'];\r\n+    $assetname = $_POST['name'];\r\n+    $group = $_POST['group'];\r\n+    $initialcondition = $_POST['initialcondition'];\r\n+    $subgroup = $_POST['subgroup'];\r\n+    $condition = $_POST['condition'];\r\n+    $category = $_POST['category'];\r\n+    $nopo = $_POST['nopo'];\r\n+    $relation = $_POST['relation'];\r\n+    $postingdate = date_format(date_create($_POST['postingdate']), \"Y-m-d\");\r\n+    $purchaseprice = $_POST['purchaseprice'];\r\n+    $ppn = $_POST['ppn'];\r\n+    $totalpurchaseprice = $_POST['totalpurchaseprice'];\r\n+    $costpermonth = $_POST['costpermonth'];\r\n+    $economicallifetime = $_POST['economicallifetime'];\r\n+\r\n+    $startwarranty = date_format(date_create($_POST['startwarranty']), \"Y-m-d\");\r\n+    $endwarranty = date_format(date_create($_POST['endwarranty']), \"Y-m-d\");\r\n+    $template = $_POST['template'];\r\n+    \r\n+    $mystartwarranty = NULL;\r\n+    $myendwarranty = NULL;\r\n+    $myfile = \"\";\r\n+    if(isset($_POST['startwarranty']))\r\n+    {\r\n+        $mystartwarranty = $_POST['startwarranty'];\r\n+    }\r\n+    if(isset($_POST['endwarranty']))\r\n+    {\r\n+        $myendwarranty = $_POST['endwarranty'];\r\n+    }\r\n+    if(isset($_FILES['myfile']['tmp_name']))\r\n+    {\r\n+        if(!is_dir(\"../assets/attach/\")) {\r\n+            mkdir(\"../assets/attach/\");\r\n+        }\r\n+        \r\n+        // echo \"test\";\r\n+        // echo count($_POST['myfile']);\r\n+        $jumlah = count($_FILES['myfile']['tmp_name']);\r\n+        for($i = 0 ; $i < $jumlah;$i++)\r\n+        {\r\n+            $filename = \"$noasset\".\"_\".date(\"Y_m_d_H_i_s\").\"_\".$_FILES['myfile']['name'][$i];\r\n+            // $filename = $_FILES['myfile']['name'][$i];\r\n+            if($i == 0 )\r\n+            {\r\n+                $myfile .= $filename;\r\n+            }\r\n+            else{\r\n+                $myfile .= \",\".$filename;\r\n+            }\r\n+            move_uploaded_file($_FILES[\"myfile\"][\"tmp_name\"][$i], \"../assets/attach/\".$filename);\r\n+       \r\n+        }\r\n+        // $file = $_FILES['myfile']['tmp_name'];\r\n+    }\r\n+    // echo $myfile;\r\n+    $mysessionsistercompany = $_SESSION['idsister'];\r\n+    $sql = \"INSERT into asset values(NULL, '$mysessionsistercompany', '$group', '$subgroup', '$category', '$initialcondition', \r\n+    '$condition', '$template','$noasset', '$assetname','$nopo', '$relation', '$postingdate', '$statuspostingdate', '$totalmonth', '$purchaseprice', '$ppn', '$totalpurchaseprice',\r\n+    '$economicallifetime', '$costpermonth', '$mystartwarranty', '$myendwarranty', '$myfile', 'Active')\";\r\n+    $res = $conn->query($sql);\r\n+    if(($conn -> affected_rows)>0)\r\n+    {\r\n+        $last_id = $conn->insert_id;\r\n+        if($_POST['idcustomquestion']!=\"\" && $_POST['idcustomquestion']!=\"none\")\r\n+        {\r\n+            $splitidcustom = explode(',', $_POST['idcustomquestion']);\r\n+            for($i = 0 ;$i < count($splitidcustom); $i++)\r\n+            {\r\n+                $currentid = $splitidcustom[$i];\r\n+                $currentvalue = $_POST['custom'.$currentid];\r\n+                $sqlinsertanswer = \"INSERT into custom_template_answer values(NULL, '$currentid', '$last_id' , '$currentvalue')\";\r\n+                $resinsertanswer = $conn->query($sqlinsertanswer);\r\n+            }\r\n+        }\r\n+        echo \"sukses\";\r\n+\r\n+    }\r\n+    else{\r\n+        echo \"tidak\";\r\n+    }\r\n+    \r\n+\r\n+\r\n+}\r\n+else if($tipe == \"add\"){\r\n+\r\n+    $idsister = $myses;\r\n+    $mygroup = $_POST['mygroup'];\r\n+    $myasset = $_POST['myasset'];\r\n+    $mybranch = $_POST['mybranch'];\r\n+    $mydepartment = $_POST['mydepartment'];\r\n+    $myfromroom = $_POST['myfromroom'];\r\n+    $mytoroom = $_POST['mytoroom'];\r\n+    $myremark = $_POST['myremark'];\r\n+    date_default_timezone_set(\"Asia/Bangkok\");\r\n+    $mydate = date(\"Y-m-d\");\r\n+    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n+    $res = $conn->query($sql);\r\n+    if(($conn -> affected_rows)>0)\r\n+    {\r\n+        echo \"sukses\";\r\n+    }\r\n+    else{\r\n+        echo \"tidak\";\r\n+    }\r\n+    // echo $sql;\r\n+}\r\n+else if($tipe == \"changedata\")\r\n+{\r\n+    $id  = $_POST['myid'];\r\n+    $idsister = $_SESSION['idsister'];\r\n+    $group = $_POST['group'];\r\n+    $subgroup = $_POST['subgroup'];\r\n+    $category = $_POST['category'];\r\n+    $initialcondition = $_POST['initialcondition'];\r\n+    $condition = $_POST['condition'];\r\n+    $noasset = $_POST['noasset'];\r\n+    $name = $_POST['name'];\r\n+    $sql = \"update asset set \r\n+           idsistercompany = '\".$idsister.\"', \r\n+           idgroup = '\".$group.\"', \r\n+           idsubgroup = '\".$subgroup.\"',\r\n+           idcategory = '\".$category.\"',\r\n+           idinitialcondition = '\".$initialcondition.\"',\r\n+           idcondition = '\".$condition.\"',\r\n+           noasset = '\".$noasset.\"',\r\n+           name = '\".$name.\"' \r\n+            where id = '\".$id.\"'\";\r\n+    $res = $conn->query($sql);\r\n+    if(($conn -> affected_rows)>0)\r\n+    {\r\n+        echo \"sukses\";\r\n+    }\r\n+    else{\r\n+        echo \"tidak\";\r\n+    }\r\n+}\r\n+else if($tipe == \"setstatus\")\r\n+{\r\n+    $myid = $_POST['myidchange'];\r\n+    $stat = $_POST['stat'];\r\n+    $sql = \"update asset set status = '\".$stat.\"' where id = '\".$myid.\"'\";\r\n+    $res = $conn->query($sql);\r\n+}\r\n+else if($tipe == \"getassetdesc\")\r\n+{\r\n+    $assetid = $_POST['assetid'];\r\n+    $sql = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n+     inner join conditions c on c.id = asset.idcondition \r\n+    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n+    $res = $conn->query($sql);\r\n+    $row = mysqli_fetch_array($res);\r\n+    \r\n+    $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n+    echo $mystring;\r\n+}\r\n+else if($tipe == \"getassetlist\")\r\n+{\r\n+    $idgroup = $_POST['idgroup'];\r\n+    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup' and asset.idsistercompany = '$myses'\";\r\n+    $res = $conn->query($sql);\r\n+    // $row = mysqli_fetch_array($res);\r\n+    $mystring = \"\";\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['noasset'].\"-\".$r['name'].\"</option>\";\r\n+        }\r\n+    }\r\n+    echo $mystring;\r\n+}\r\n+else if($tipe == \"getroom\")\r\n+{\r\n+    $idbranch = $_POST['idbranch'];\r\n+    $sql = \"SELECT lroom.* FROM location_room lroom \r\n+    inner join location_setup_building_floor lsbf on lsbf.idlocationsetupbuildingfloor = lroom.idsetupbuildingfloor\r\n+    inner join location_building lbuilding on lbuilding.id = lsbf.idbuilding\r\n+    inner join location_setup_sister_branch lssb on lssb.idsetupsisterbranch = lbuilding.idsetupsisterbranch\r\n+    inner join location_branch lbranch on lbranch.idbranch = lssb.idbranch\r\n+    where lbranch.idbranch = '$idbranch'\";\r\n+    $res = $conn->query($sql);\r\n+    $mystring = \"\";\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['room'].\"</option>\";\r\n+        }\r\n+    }\r\n+    echo $mystring;\r\n+}\r\n+?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632902038857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"accepted\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Accepted </span>\";\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-check-box '></i> &nbsp Accepted </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n@@ -456,465 +456,5 @@\n         }\r\n     }\r\n     echo $mystring;\r\n }\r\n-?>\n-<?php\r\n-require '../connection.php';\r\n-session_start();\r\n-$myses = $_SESSION['idsister'];\r\n-$tipe = $_POST['tipe'];\r\n-if($tipe == \"load\")\r\n-{\r\n-\r\n-    $where_like = [\r\n-        'assetname',\r\n-        'noasset',\r\n-        'branch',\r\n-        'roomfroom',\r\n-        'toroom',\r\n-        'status_approval',\r\n-        'remark'\r\n-        \r\n-    ];\r\n-    \r\n-    $response = $_REQUEST;\r\n-    $start    = $response['start'];\r\n-    $length   = $response['length'];\r\n-    $order    = $where_like[$response['order'][0]['column']];\r\n-    $dir      = $response['order'][0]['dir'];\r\n-    $search   = $response['search']['value'];\r\n-    \r\n-    $total_data = mysqli_query($conn, \r\n-    \r\n-    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n-    inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-    inner join location_room lfromroom on lfromroom.id = tdd.idfromroom \r\n-    inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-    inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n-    \"\r\n-\r\n-);\r\n-    \r\n-    if(empty($search)) {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n-        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n-    \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n-        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n-    } else {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n-        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n-         tdd.notransaction LIKE '%$search%' \r\n-        OR lbranch.branch LIKE '%$search%'\r\n-        OR asset.noasset LIKE '%$search%'\r\n-        OR asset.name LIKE '%$search%'\r\n-        OR tdd.remark LIKE '%$search%'\r\n-        OR tdd.status_approval LIKE '%$search%' )  ORDER BY $order $dir LIMIT $start, $length\");\r\n-    \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n-        inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n-        inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n-         tdd.notransaction LIKE '%$search%' \r\n-        OR lbranch.branch LIKE '%$search%'\r\n-        OR asset.noasset LIKE '%$search%'\r\n-        OR asset.name LIKE '%$search%'\r\n-        OR tdd.remark LIKE '%$search%'\r\n-        OR tdd.status_approval LIKE '%$search%' )\");\r\n-    }\r\n-    \r\n-    $response['data'] = [];\r\n-    \r\n-    if($query_data) {\r\n-        while($row = mysqli_fetch_assoc($query_data)) {\r\n-            $myapproval = \"\";\r\n-            if($row['status_approval'] == \"waiting\")\r\n-            {\r\n-                $myapproval = \"<span style = 'color:#e37e02'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n-            }\r\n-            else if($row['status_approval'] == \"rejected\")\r\n-            {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n-            }\r\n-            else if($row['status_approval'] == \"rejected\")\r\n-            {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n-            }\r\n-            // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n-            $response['data'][] = [\r\n-                // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n-                \"<b><label id ='statusapproval\".$row['id'].\"'  >\".$myapproval.\"</label></b>\",\r\n-                \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n-                \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n-                \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n-                \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n-                \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n-                \"<label id ='roomfrom\".$row['id'].\"'>\".$row['myfromroom'].\"</label>\",\r\n-                \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n-                \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n-               \r\n-                \"<label id ='leadtime\".$row['id'].\"'>\".$row['lead_time'].\"</label>\"\r\n-            ];\r\n-        }\r\n-    }\r\n-    \r\n-    $response['recordsTotal'] = 0;\r\n-    if($total_data <> FALSE) {\r\n-        $response['recordsTotal'] = mysqli_num_rows($total_data);\r\n-    }\r\n-    \r\n-    $response['recordsFiltered'] = 0;\r\n-    if($total_filtered <> FALSE) {\r\n-        $response['recordsFiltered'] = mysqli_num_rows($total_filtered);\r\n-    }  \r\n-    \r\n-    echo json_encode($response);\r\n-}\r\n-else if($tipe == \"gettemplatecategory\")\r\n-{\r\n-    $idcategory = $_POST['idcategory'];\r\n-    $sql = \"select template.id, template.template from kategori_categorysubgroup kcs inner join template on template.id = kcs.idtemplate where kcs.id = '$idcategory'\";\r\n-    $res = $conn->query($sql);\r\n-    $row = mysqli_fetch_array($res);\r\n-    \r\n-    if($res->num_rows>0)\r\n-    {\r\n-        $idtemplate = $row['id'];\r\n-        $nametemplate = $row['template'];\r\n-        echo $idtemplate.\"~~~\";\r\n-        echo $nametemplate.\"~~~\";\r\n-        $sqls = \"select folder_custom.*, custom_to_template.id as idquestion  from custom_to_template inner join folder_custom on folder_custom.id = custom_to_template.idcustom where custom_to_template.idtemplate = '$idtemplate'\"; \r\n-        $ress = $conn->query($sqls);\r\n-        // echo $sqls;\r\n-        if($ress -> num_rows>0)\r\n-        {\r\n-            $mystring = \"\";\r\n-            $mycode = \"\";\r\n-            $myindex = 0 ;\r\n-            while($r = mysqli_fetch_array($ress))\r\n-            {\r\n-                if($myindex == 0)\r\n-                {\r\n-                    $mycode .= $r['id'];\r\n-                }\r\n-                else{\r\n-                    $mycode .= \",\".$r['id'];\r\n-                }\r\n-                $myindex++;\r\n-               \r\n-                $mystring .=  '\r\n-                <div class=\"row\">\r\n-                  <div class=\"col-md-12\">\r\n-                        <div class=\"form-group\">\r\n-                            <label>'.$r['name'].' </label>\r\n-                            <input type=\"text\" name=\"custom'.$r['idquestion'].'\" placeholder=\"Enter '.$r['name'].'\" class=\"form-control required\" id = \"startwarranty\"><br>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>';\r\n-            }\r\n-            echo $mycode.\"~~\".$mystring;\r\n-        }\r\n-        else{\r\n-            echo \"none\";\r\n-        }\r\n-    }\r\n-    else{\r\n-        echo \"another\";\r\n-    }\r\n-\r\n-}\r\n-else if($tipe == \"getallanswer\")\r\n-{\r\n-\r\n-    $idasset = $_POST['idassets'];\r\n-    $sql = \"select folder_custom.name as namequestion, custom_template_answer.answer from custom_template_answer \r\n-    inner join custom_to_template on custom_to_template.id = custom_template_answer.id_custom_to_template\r\n-    inner join folder_custom on folder_custom.id = custom_to_template.idcustom\r\n-    where custom_template_answer.idasset = '$idasset'\";\r\n-  \r\n-    $res = $conn->query($sql);\r\n-    if($res -> num_rows>0)\r\n-    {\r\n-        // echo $sql;\r\n-        $mystring = \"\";\r\n-        while($r = mysqli_fetch_array($res))\r\n-        {\r\n-        \r\n-            $mystring .=  '\r\n-            <div class=\"row\">\r\n-              <div class=\"col-md-12\">\r\n-                    <div class=\"form-group\">\r\n-                        <label>'.$r['namequestion'].' </label><br>\r\n-                        <b><label>'.$r['answer'].'</label></b>\r\n-                    </div>\r\n-                </div>\r\n-            </div>';\r\n-        }\r\n-        echo $mystring;\r\n-    }\r\n-    else{\r\n-        echo \"none\";\r\n-    }\r\n-}\r\n-else if($tipe == \"getcustomquestion\")\r\n-{\r\n-    $idtemplate = $_POST['idtemplate'];\r\n-    $sql = \"select folder_custom.*, custom_to_template.id as idquestion  from custom_to_template inner join folder_custom on folder_custom.id = custom_to_template.idcustom where custom_to_template.idtemplate = '$idtemplate'\"; \r\n-    $res = $conn->query($sql);\r\n-    if($res -> num_rows>0)\r\n-    {\r\n-        $mystring = \"\";\r\n-        $mycode = \"\";\r\n-        $myindex = 0 ;\r\n-        while($r = mysqli_fetch_array($res))\r\n-        {\r\n-            if($myindex == 0)\r\n-            {\r\n-                $mycode .= $r['id'];\r\n-            }\r\n-            else{\r\n-                $mycode .= \",\".$r['id'];\r\n-            }\r\n-            $myindex++;\r\n-           \r\n-            $mystring .=  '\r\n-            <div class=\"row\">\r\n-              <div class=\"col-md-12\">\r\n-                    <div class=\"form-group\">\r\n-                        <label>'.$r['name'].' </label>\r\n-                        <input type=\"text\" name=\"custom'.$r['idquestion'].'\" placeholder=\"Enter '.$r['name'].'\" class=\"form-control required\" id = \"startwarranty\"><br>\r\n-                    </div>\r\n-                </div>\r\n-            </div>';\r\n-        }\r\n-        echo $mycode.\"~~\".$mystring;\r\n-    }\r\n-    else{\r\n-        echo \"none\";\r\n-    }\r\n-\r\n-}\r\n-else if($tipe == \"addassetform\")\r\n-{\r\n- \r\n-    $statuspostingdate = \"no\";\r\n-    $date1= date_create($_POST['postingdate']);\r\n-   \r\n-    $date2=date_create(date(\"Y-m-d\"));\r\n-    $diff=date_diff($date1,$date2);\r\n-    $perbedaan =  $diff->format(\"%m\");\r\n-    if($perbedaan < 0)\r\n-    {\r\n-        $perbedaan = 0;\r\n-    }\r\n-    if(isset($_POST['statuspostingdate']))\r\n-    {\r\n-        $perbedaan+=1;\r\n-        $statuspostingdate =  \"yes\";\r\n-    }\r\n-    $totalmonth = $perbedaan; \r\n-    $noasset = $_POST['noasset'];\r\n-    $assetname = $_POST['name'];\r\n-    $group = $_POST['group'];\r\n-    $initialcondition = $_POST['initialcondition'];\r\n-    $subgroup = $_POST['subgroup'];\r\n-    $condition = $_POST['condition'];\r\n-    $category = $_POST['category'];\r\n-    $nopo = $_POST['nopo'];\r\n-    $relation = $_POST['relation'];\r\n-    $postingdate = date_format(date_create($_POST['postingdate']), \"Y-m-d\");\r\n-    $purchaseprice = $_POST['purchaseprice'];\r\n-    $ppn = $_POST['ppn'];\r\n-    $totalpurchaseprice = $_POST['totalpurchaseprice'];\r\n-    $costpermonth = $_POST['costpermonth'];\r\n-    $economicallifetime = $_POST['economicallifetime'];\r\n-\r\n-    $startwarranty = date_format(date_create($_POST['startwarranty']), \"Y-m-d\");\r\n-    $endwarranty = date_format(date_create($_POST['endwarranty']), \"Y-m-d\");\r\n-    $template = $_POST['template'];\r\n-    \r\n-    $mystartwarranty = NULL;\r\n-    $myendwarranty = NULL;\r\n-    $myfile = \"\";\r\n-    if(isset($_POST['startwarranty']))\r\n-    {\r\n-        $mystartwarranty = $_POST['startwarranty'];\r\n-    }\r\n-    if(isset($_POST['endwarranty']))\r\n-    {\r\n-        $myendwarranty = $_POST['endwarranty'];\r\n-    }\r\n-    if(isset($_FILES['myfile']['tmp_name']))\r\n-    {\r\n-        if(!is_dir(\"../assets/attach/\")) {\r\n-            mkdir(\"../assets/attach/\");\r\n-        }\r\n-        \r\n-        // echo \"test\";\r\n-        // echo count($_POST['myfile']);\r\n-        $jumlah = count($_FILES['myfile']['tmp_name']);\r\n-        for($i = 0 ; $i < $jumlah;$i++)\r\n-        {\r\n-            $filename = \"$noasset\".\"_\".date(\"Y_m_d_H_i_s\").\"_\".$_FILES['myfile']['name'][$i];\r\n-            // $filename = $_FILES['myfile']['name'][$i];\r\n-            if($i == 0 )\r\n-            {\r\n-                $myfile .= $filename;\r\n-            }\r\n-            else{\r\n-                $myfile .= \",\".$filename;\r\n-            }\r\n-            move_uploaded_file($_FILES[\"myfile\"][\"tmp_name\"][$i], \"../assets/attach/\".$filename);\r\n-       \r\n-        }\r\n-        // $file = $_FILES['myfile']['tmp_name'];\r\n-    }\r\n-    // echo $myfile;\r\n-    $mysessionsistercompany = $_SESSION['idsister'];\r\n-    $sql = \"INSERT into asset values(NULL, '$mysessionsistercompany', '$group', '$subgroup', '$category', '$initialcondition', \r\n-    '$condition', '$template','$noasset', '$assetname','$nopo', '$relation', '$postingdate', '$statuspostingdate', '$totalmonth', '$purchaseprice', '$ppn', '$totalpurchaseprice',\r\n-    '$economicallifetime', '$costpermonth', '$mystartwarranty', '$myendwarranty', '$myfile', 'Active')\";\r\n-    $res = $conn->query($sql);\r\n-    if(($conn -> affected_rows)>0)\r\n-    {\r\n-        $last_id = $conn->insert_id;\r\n-        if($_POST['idcustomquestion']!=\"\" && $_POST['idcustomquestion']!=\"none\")\r\n-        {\r\n-            $splitidcustom = explode(',', $_POST['idcustomquestion']);\r\n-            for($i = 0 ;$i < count($splitidcustom); $i++)\r\n-            {\r\n-                $currentid = $splitidcustom[$i];\r\n-                $currentvalue = $_POST['custom'.$currentid];\r\n-                $sqlinsertanswer = \"INSERT into custom_template_answer values(NULL, '$currentid', '$last_id' , '$currentvalue')\";\r\n-                $resinsertanswer = $conn->query($sqlinsertanswer);\r\n-            }\r\n-        }\r\n-        echo \"sukses\";\r\n-\r\n-    }\r\n-    else{\r\n-        echo \"tidak\";\r\n-    }\r\n-    \r\n-\r\n-\r\n-}\r\n-else if($tipe == \"add\"){\r\n-\r\n-    $idsister = $myses;\r\n-    $mygroup = $_POST['mygroup'];\r\n-    $myasset = $_POST['myasset'];\r\n-    $mybranch = $_POST['mybranch'];\r\n-    $mydepartment = $_POST['mydepartment'];\r\n-    $myfromroom = $_POST['myfromroom'];\r\n-    $mytoroom = $_POST['mytoroom'];\r\n-    $myremark = $_POST['myremark'];\r\n-    date_default_timezone_set(\"Asia/Bangkok\");\r\n-    $mydate = date(\"Y-m-d\");\r\n-    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n-    $res = $conn->query($sql);\r\n-    if(($conn -> affected_rows)>0)\r\n-    {\r\n-        echo \"sukses\";\r\n-    }\r\n-    else{\r\n-        echo \"tidak\";\r\n-    }\r\n-    // echo $sql;\r\n-}\r\n-else if($tipe == \"changedata\")\r\n-{\r\n-    $id  = $_POST['myid'];\r\n-    $idsister = $_SESSION['idsister'];\r\n-    $group = $_POST['group'];\r\n-    $subgroup = $_POST['subgroup'];\r\n-    $category = $_POST['category'];\r\n-    $initialcondition = $_POST['initialcondition'];\r\n-    $condition = $_POST['condition'];\r\n-    $noasset = $_POST['noasset'];\r\n-    $name = $_POST['name'];\r\n-    $sql = \"update asset set \r\n-           idsistercompany = '\".$idsister.\"', \r\n-           idgroup = '\".$group.\"', \r\n-           idsubgroup = '\".$subgroup.\"',\r\n-           idcategory = '\".$category.\"',\r\n-           idinitialcondition = '\".$initialcondition.\"',\r\n-           idcondition = '\".$condition.\"',\r\n-           noasset = '\".$noasset.\"',\r\n-           name = '\".$name.\"' \r\n-            where id = '\".$id.\"'\";\r\n-    $res = $conn->query($sql);\r\n-    if(($conn -> affected_rows)>0)\r\n-    {\r\n-        echo \"sukses\";\r\n-    }\r\n-    else{\r\n-        echo \"tidak\";\r\n-    }\r\n-}\r\n-else if($tipe == \"setstatus\")\r\n-{\r\n-    $myid = $_POST['myidchange'];\r\n-    $stat = $_POST['stat'];\r\n-    $sql = \"update asset set status = '\".$stat.\"' where id = '\".$myid.\"'\";\r\n-    $res = $conn->query($sql);\r\n-}\r\n-else if($tipe == \"getassetdesc\")\r\n-{\r\n-    $assetid = $_POST['assetid'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name, c.name as conditions, ic.initial_condition from asset\r\n-     inner join conditions c on c.id = asset.idcondition \r\n-    inner join initial_condition ic on ic.id = asset.idinitialcondition where asset.id = '$assetid'\";\r\n-    $res = $conn->query($sql);\r\n-    $row = mysqli_fetch_array($res);\r\n-    \r\n-    $mystring = $row['noasset'].\"~~\".$row['name'].\"~~\".$row['conditions'].\"~~\".$row['initial_condition'];\r\n-    echo $mystring;\r\n-}\r\n-else if($tipe == \"getassetlist\")\r\n-{\r\n-    $idgroup = $_POST['idgroup'];\r\n-    $sql = \"select asset.id, asset.noasset, asset.name from asset where asset.idgroup = '$idgroup' and asset.idsistercompany = '$myses'\";\r\n-    $res = $conn->query($sql);\r\n-    // $row = mysqli_fetch_array($res);\r\n-    $mystring = \"\";\r\n-    if($res -> num_rows>0)\r\n-    {\r\n-        while($r = mysqli_fetch_array($res))\r\n-        {\r\n-            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['noasset'].\"-\".$r['name'].\"</option>\";\r\n-        }\r\n-    }\r\n-    echo $mystring;\r\n-}\r\n-else if($tipe == \"getroom\")\r\n-{\r\n-    $idbranch = $_POST['idbranch'];\r\n-    $sql = \"SELECT lroom.* FROM location_room lroom \r\n-    inner join location_setup_building_floor lsbf on lsbf.idlocationsetupbuildingfloor = lroom.idsetupbuildingfloor\r\n-    inner join location_building lbuilding on lbuilding.id = lsbf.idbuilding\r\n-    inner join location_setup_sister_branch lssb on lssb.idsetupsisterbranch = lbuilding.idsetupsisterbranch\r\n-    inner join location_branch lbranch on lbranch.idbranch = lssb.idbranch\r\n-    where lbranch.idbranch = '$idbranch'\";\r\n-    $res = $conn->query($sql);\r\n-    $mystring = \"\";\r\n-    if($res -> num_rows>0)\r\n-    {\r\n-        while($r = mysqli_fetch_array($res))\r\n-        {\r\n-            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['room'].\"</option>\";\r\n-        }\r\n-    }\r\n-    echo $mystring;\r\n-}\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1632902075571,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"accepted\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-check-box '></i> &nbsp Accepted </span>\";\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-check-box'></i>  Accepted </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632902080708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"accepted\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-check-box'></i>  Accepted </span>\";\r\n+                $myapproval = \"<span style = 'color:#e32702'><i class='mi-check-box'></i> &nbspAccepted </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632902103194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"accepted\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e32702'><i class='mi-check-box'></i> &nbspAccepted </span>\";\r\n+                $myapproval = \"<span style = 'color:#3ae302'><i class='mi-check-box'></i> &nbspAccepted </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632902118178,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"accepted\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#3ae302'><i class='mi-check-box'></i> &nbspAccepted </span>\";\r\n+                $myapproval = \"<span style = 'color:#30bd02'><i class='mi-check-box'></i> &nbspAccepted </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632902135333,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"accepted\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#30bd02'><i class='mi-check-box'></i> &nbspAccepted </span>\";\r\n+                $myapproval = \"<span style = 'color:#2aa602'><i class='mi-check-box'></i> &nbspAccepted </span>\";\r\n             }\r\n             // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n"
                },
                {
                    "date": 1632902159172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e37e02'><i class='mi-timer'></i> &nbsp Waiting </span>\";\r\n+                $myapproval = \"<span style = 'color:#e37e02'><i class='mi-info'></i> &nbsp Waiting </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n"
                },
                {
                    "date": 1632902183895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n             if($row['status_approval'] == \"waiting\")\r\n             {\r\n-                $myapproval = \"<span style = 'color:#e37e02'><i class='mi-info'></i> &nbsp Waiting </span>\";\r\n+                $myapproval = \"<span style = 'color:#e37e02'><i class='mi-info'></i> &nbsp Pending </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n             {\r\n                 $myapproval = \"<span style = 'color:#e32702'><i class='mi-cancel'></i> &nbsp Rejected </span>\";\r\n"
                },
                {
                    "date": 1632902189687,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,9 +77,9 @@\n     \r\n     if($query_data) {\r\n         while($row = mysqli_fetch_assoc($query_data)) {\r\n             $myapproval = \"\";\r\n-            if($row['status_approval'] == \"waiting\")\r\n+            if($row['status_approval'] == \"pending\")\r\n             {\r\n                 $myapproval = \"<span style = 'color:#e37e02'><i class='mi-info'></i> &nbsp Pending </span>\";\r\n             }\r\n             else if($row['status_approval'] == \"rejected\")\r\n"
                },
                {
                    "date": 1632902196202,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -360,9 +360,9 @@\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n     date_default_timezone_set(\"Asia/Bangkok\");\r\n     $mydate = date(\"Y-m-d\");\r\n-    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'waiting', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n+    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'pending', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n     $res = $conn->query($sql);\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n"
                },
                {
                    "date": 1632906030111,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,8 +56,10 @@\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.name LIKE '%$search%'\r\n+        OR lfromroom.room LIKE '%$search%'\r\n+        OR ltoroom.room LIKE '%$search%' \r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%' )  ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n         $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n@@ -68,8 +70,10 @@\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n         OR asset.noasset LIKE '%$search%'\r\n         OR asset.name LIKE '%$search%'\r\n+        OR lfromroom.room LIKE '%$search%'\r\n+        OR ltoroom.room LIKE '%$search%' \r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%' )\");\r\n     }\r\n     \r\n"
                },
                {
                    "date": 1633407628868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,10 +100,8 @@\n                 \"<b><label id ='statusapproval\".$row['id'].\"'  >\".$myapproval.\"</label></b>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n                 \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n-                \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n-                \"<label id ='assetname\".$row['id'].\"'>\".$row['assetname'].\"</label>\",\r\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['myfromroom'].\"</label>\",\r\n                 \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n                 \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n                \r\n"
                },
                {
                    "date": 1633407756208,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n             $response['data'][] = [\r\n                 // \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                 \"<b><label id ='statusapproval\".$row['id'].\"'  >\".$myapproval.\"</label></b>\",\r\n                 \"<label id ='mydate\".$row['id'].\"'>\".$row['mydate'].\"</label>\",\r\n-                \"<label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label>\",\r\n+                \"<a href = '#myModalDetailTransaction' id = '\".$row['id'].\"' onclick = openmodaldetailtransaction(this) data-toggle='modal'><label id ='notransaction\".$row['id'].\"'>\".$row['notransaction'].\"</label></a>\",\r\n                 \"<label id ='branch\".$row['id'].\"'>\".$row['branch'].\"</label>\",\r\n                 \"<label id ='roomfrom\".$row['id'].\"'>\".$row['myfromroom'].\"</label>\",\r\n                 \"<label id ='toroom\".$row['id'].\"'>\".$row['toroom'].\"</label>\",\r\n                 \"<label id ='remark\".$row['id'].\"'>\".$row['remark'].\"</label>\",\r\n"
                },
                {
                    "date": 1633407881542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,5 +458,37 @@\n         }\r\n     }\r\n     echo $mystring;\r\n }\r\n+else if($tipe == \"getdetailtransaction\")\r\n+{\r\n+    $idtransaction = $_POST['idtransaction'];\r\n+    $sql = \"select tdnal.*, asset.name as assetname, asset.noasset  from transaction_displacement_new_asset_log tdnal inner join asset on asset.id = tdnal.idasset where idtransaksi = '$idtransaction'\";\r\n+    $res = $conn->query($sql);\r\n+    $mystring = \"\";\r\n+    $mynumber = 1;\r\n+    if($res->num_rows>0)\r\n+    {\r\n+        $mycounter = 1;\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            if($mycounter == 1)\r\n+            {\r\n+                $mystring .= \"<div class = 'row'><div class = 'col-md-6'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"</label></div>\";\r\n+                $mycounter = 2;\r\n+            }\r\n+            else{\r\n+                $mystring .= \"<div class = 'col-md-6'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"</label></div></div><br>\";\r\n+                $mycounter = 1;\r\n+            }\r\n+            $mynumber ++;\r\n+            \r\n+        }\r\n+        echo $mystring;\r\n+    }\r\n+    else\r\n+    {\r\n+        echo \"\";\r\n+    }\r\n+\r\n+}\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1633407981232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -461,9 +461,9 @@\n }\r\n else if($tipe == \"getdetailtransaction\")\r\n {\r\n     $idtransaction = $_POST['idtransaction'];\r\n-    $sql = \"select tdnal.*, asset.name as assetname, asset.noasset  from transaction_displacement_new_asset_log tdnal inner join asset on asset.id = tdnal.idasset where idtransaksi = '$idtransaction'\";\r\n+    $sql = \"select tdnal.*, asset.name as assetname, asset.noasset  from transaction_displacement_department_log tdnal inner join asset on asset.id = tdnal.idasset where idtransaksi = '$idtransaction'\";\r\n     $res = $conn->query($sql);\r\n     $mystring = \"\";\r\n     $mynumber = 1;\r\n     if($res->num_rows>0)\r\n"
                },
                {
                    "date": 1633407994046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -461,9 +461,9 @@\n }\r\n else if($tipe == \"getdetailtransaction\")\r\n {\r\n     $idtransaction = $_POST['idtransaction'];\r\n-    $sql = \"select tdnal.*, asset.name as assetname, asset.noasset  from transaction_displacement_department_log tdnal inner join asset on asset.id = tdnal.idasset where idtransaksi = '$idtransaction'\";\r\n+    $sql = \"select tddl.*, asset.name as assetname, asset.noasset  from transaction_displacement_department_log tddl inner join asset on asset.id = tdnal.idasset where idtransaksi = '$idtransaction'\";\r\n     $res = $conn->query($sql);\r\n     $mystring = \"\";\r\n     $mynumber = 1;\r\n     if($res->num_rows>0)\r\n"
                },
                {
                    "date": 1633407999909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -461,9 +461,9 @@\n }\r\n else if($tipe == \"getdetailtransaction\")\r\n {\r\n     $idtransaction = $_POST['idtransaction'];\r\n-    $sql = \"select tddl.*, asset.name as assetname, asset.noasset  from transaction_displacement_department_log tddl inner join asset on asset.id = tdnal.idasset where idtransaksi = '$idtransaction'\";\r\n+    $sql = \"select tddl.*, asset.name as assetname, asset.noasset  from transaction_displacement_department_log tddl inner join asset on asset.id = tddl.idasset where idtransaksi = '$idtransaction'\";\r\n     $res = $conn->query($sql);\r\n     $mystring = \"\";\r\n     $mynumber = 1;\r\n     if($res->num_rows>0)\r\n"
                },
                {
                    "date": 1633408113731,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -464,8 +464,9 @@\n     $idtransaction = $_POST['idtransaction'];\r\n     $sql = \"select tddl.*, asset.name as assetname, asset.noasset  from transaction_displacement_department_log tddl inner join asset on asset.id = tddl.idasset where idtransaksi = '$idtransaction'\";\r\n     $res = $conn->query($sql);\r\n     $mystring = \"\";\r\n+    $mycountasset = 0;\r\n     $mynumber = 1;\r\n     if($res->num_rows>0)\r\n     {\r\n         $mycounter = 1;\r\n"
                },
                {
                    "date": 1633408123905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -471,8 +471,9 @@\n     {\r\n         $mycounter = 1;\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n+            $mycountasset += 1;\r\n             if($mycounter == 1)\r\n             {\r\n                 $mystring .= \"<div class = 'row'><div class = 'col-md-6'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"</label></div>\";\r\n                 $mycounter = 2;\r\n"
                },
                {
                    "date": 1633408139860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -484,9 +484,9 @@\n             }\r\n             $mynumber ++;\r\n             \r\n         }\r\n-        echo $mystring;\r\n+        echo $mycountasset.\"||\".$mystring;\r\n     }\r\n     else\r\n     {\r\n         echo \"\";\r\n"
                },
                {
                    "date": 1633412296155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -352,8 +352,9 @@\n \r\n }\r\n else if($tipe == \"add\"){\r\n \r\n+    $myselectedlist = $_POST['myselected'];\r\n     $idsister = $myses;\r\n     $mygroup = $_POST['mygroup'];\r\n     $myasset = $_POST['myasset'];\r\n     $mybranch = $_POST['mybranch'];\r\n"
                },
                {
                    "date": 1633412309470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -365,8 +365,18 @@\n     date_default_timezone_set(\"Asia/Bangkok\");\r\n     $mydate = date(\"Y-m-d\");\r\n     $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'pending', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n     $res = $conn->query($sql);\r\n+    $last_id = $conn->insert_id;\r\n+\r\n+    for($i = 0 ;  $i < count($myselectedlist) ; $i++)\r\n+    {\r\n+        $sqlupdate  = \"UPDATE asset set status_transaction = 'placed' where id = '\".$myselectedlist[$i].\"'\";\r\n+        $resupdate =  $conn->query($sqlupdate);\r\n+        $sqls = \"INSERT INTO `transaction_displacement_new_asset_log` VALUES (NULL, '$last_id', '\".$myselectedlist[$i].\"')\";\r\n+        $ress = $conn->query($sqls);\r\n+      \r\n+    }\r\n     if(($conn -> affected_rows)>0)\r\n     {\r\n         echo \"sukses\";\r\n     }\r\n"
                },
                {
                    "date": 1633412319444,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -371,9 +371,9 @@\n     for($i = 0 ;  $i < count($myselectedlist) ; $i++)\r\n     {\r\n         $sqlupdate  = \"UPDATE asset set status_transaction = 'placed' where id = '\".$myselectedlist[$i].\"'\";\r\n         $resupdate =  $conn->query($sqlupdate);\r\n-        $sqls = \"INSERT INTO `transaction_displacement_new_asset_log` VALUES (NULL, '$last_id', '\".$myselectedlist[$i].\"')\";\r\n+        $sqls = \"INSERT INTO `transaction_displacement_department_log` VALUES (NULL, '$last_id', '\".$myselectedlist[$i].\"')\";\r\n         $ress = $conn->query($sqls);\r\n       \r\n     }\r\n     if(($conn -> affected_rows)>0)\r\n"
                },
                {
                    "date": 1633412416427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,8 +121,39 @@\n     }  \r\n     \r\n     echo json_encode($response);\r\n }\r\n+else if($tipe == \"getasset\")\r\n+{\r\n+    $idcategory = $_POST['idcategory'];\r\n+    $sql =  \"select * from asset where idcategory = '$idcategory' and status_transaction = 'newasset'\";\r\n+    $res = $conn->query($sql);\r\n+    $mystring = \"\";\r\n+    if($res->num_rows>0)\r\n+    {\r\n+        $mycounter = 1;\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            if($mycounter == 1)\r\n+            {\r\n+                $mystring .= \"<div class = 'row'><div class = 'col-md-6'><input class = 'mycheckbox' type = 'checkbox' value = '\".$r['id'].\"' > \".$r['name'].\"</div>\";\r\n+                $mycounter = 2;\r\n+            }\r\n+            else{\r\n+                $mystring .= \"<div class = 'col-md-6'><input class = 'mycheckbox' type = 'checkbox' value = '\".$r['id'].\"' > \".$r['name'].\"</div></div><br>\";\r\n+                $mycounter = 1;\r\n+            }\r\n+            \r\n+        }\r\n+        echo $mystring;\r\n+    }\r\n+    else\r\n+    {\r\n+        echo \"\";\r\n+    }\r\n+   \r\n+\r\n+}\r\n else if($tipe == \"gettemplatecategory\")\r\n {\r\n     $idcategory = $_POST['idcategory'];\r\n     $sql = \"select template.id, template.template from kategori_categorysubgroup kcs inner join template on template.id = kcs.idtemplate where kcs.id = '$idcategory'\";\r\n"
                },
                {
                    "date": 1633412423743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n }\r\n else if($tipe == \"getasset\")\r\n {\r\n     $idcategory = $_POST['idcategory'];\r\n-    $sql =  \"select * from asset where idcategory = '$idcategory' and status_transaction = 'newasset'\";\r\n+    $sql =  \"select * from asset where idcategory = '$idcategory' and status_transaction = 'placed'\";\r\n     $res = $conn->query($sql);\r\n     $mystring = \"\";\r\n     if($res->num_rows>0)\r\n     {\r\n"
                },
                {
                    "date": 1633412489923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,39 +121,9 @@\n     }  \r\n     \r\n     echo json_encode($response);\r\n }\r\n-else if($tipe == \"getasset\")\r\n-{\r\n-    $idcategory = $_POST['idcategory'];\r\n-    $sql =  \"select * from asset where idcategory = '$idcategory' and status_transaction = 'placed'\";\r\n-    $res = $conn->query($sql);\r\n-    $mystring = \"\";\r\n-    if($res->num_rows>0)\r\n-    {\r\n-        $mycounter = 1;\r\n-        while($r = mysqli_fetch_array($res))\r\n-        {\r\n-            if($mycounter == 1)\r\n-            {\r\n-                $mystring .= \"<div class = 'row'><div class = 'col-md-6'><input class = 'mycheckbox' type = 'checkbox' value = '\".$r['id'].\"' > \".$r['name'].\"</div>\";\r\n-                $mycounter = 2;\r\n-            }\r\n-            else{\r\n-                $mystring .= \"<div class = 'col-md-6'><input class = 'mycheckbox' type = 'checkbox' value = '\".$r['id'].\"' > \".$r['name'].\"</div></div><br>\";\r\n-                $mycounter = 1;\r\n-            }\r\n-            \r\n-        }\r\n-        echo $mystring;\r\n-    }\r\n-    else\r\n-    {\r\n-        echo \"\";\r\n-    }\r\n-   \r\n \r\n-}\r\n else if($tipe == \"gettemplatecategory\")\r\n {\r\n     $idcategory = $_POST['idcategory'];\r\n     $sql = \"select template.id, template.template from kategori_categorysubgroup kcs inner join template on template.id = kcs.idtemplate where kcs.id = '$idcategory'\";\r\n@@ -534,5 +504,68 @@\n         echo \"\";\r\n     }\r\n \r\n }\r\n+else if($tipe == \"getasset\")\r\n+{\r\n+    $idcategory = $_POST['idcategory'];\r\n+    $sql =  \"select * from asset where idcategory = '$idcategory' and status_transaction = 'placed'\";\r\n+    $res = $conn->query($sql);\r\n+    $mystring = \"\";\r\n+    if($res->num_rows>0)\r\n+    {\r\n+        $mycounter = 1;\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            if($mycounter == 1)\r\n+            {\r\n+                $mystring .= \"<div class = 'row'><div class = 'col-md-6'><input class = 'mycheckbox' type = 'checkbox' value = '\".$r['id'].\"' > \".$r['name'].\"</div>\";\r\n+                $mycounter = 2;\r\n+            }\r\n+            else{\r\n+                $mystring .= \"<div class = 'col-md-6'><input class = 'mycheckbox' type = 'checkbox' value = '\".$r['id'].\"' > \".$r['name'].\"</div></div><br>\";\r\n+                $mycounter = 1;\r\n+            }\r\n+            \r\n+        }\r\n+        echo $mystring;\r\n+    }\r\n+    else\r\n+    {\r\n+        echo \"\";\r\n+    }\r\n+   \r\n+\r\n+}\r\n+else if($tipe == \"getsubgroup\")\r\n+{\r\n+    $idgroup = $_POST['idgroup'];\r\n+    $sql = \"SELECT ks.* from kategori_subgroup ks inner join kategori_asset ka on ka.id = ks.idkategoriaset\r\n+     where ka.id = '$idgroup'\";\r\n+    $res = $conn->query($sql);\r\n+    $mystring = \"\";\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['subgroup'].\"</option>\";\r\n+        }\r\n+    }\r\n+    echo $mystring;\r\n+}\r\n+else if($tipe == \"getcategory\")\r\n+{\r\n+    $idsubgroup = $_POST['idsubgroup'];\r\n+    $sql = \"SELECT kcs.* from kategori_categorysubgroup kcs \r\n+    where kcs.idsubgroup = '$idsubgroup'\";\r\n+    $res = $conn->query($sql);\r\n+    $mystring = \"\";\r\n+    if($res -> num_rows>0)\r\n+    {\r\n+        while($r = mysqli_fetch_array($res))\r\n+        {\r\n+            $mystring .= \"<option value = '\".$r['id'].\"'> \".$r['category'].\"</option>\";\r\n+        }\r\n+    }\r\n+    echo $mystring;\r\n+}\r\n ?>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1633412662764,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,9 +353,9 @@\n \r\n }\r\n else if($tipe == \"add\"){\r\n \r\n-    $myselectedlist = $_POST['myselected'];\r\n+    $myselectedlist = $_POST['myselect'];\r\n     $idsister = $myses;\r\n     $mygroup = $_POST['mygroup'];\r\n     $myasset = $_POST['myasset'];\r\n     $mybranch = $_POST['mybranch'];\r\n"
                },
                {
                    "date": 1633412681976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -356,17 +356,16 @@\n \r\n     $myselectedlist = $_POST['myselect'];\r\n     $idsister = $myses;\r\n     $mygroup = $_POST['mygroup'];\r\n-    $myasset = $_POST['myasset'];\r\n     $mybranch = $_POST['mybranch'];\r\n     $mydepartment = $_POST['mydepartment'];\r\n     $myfromroom = $_POST['myfromroom'];\r\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n     date_default_timezone_set(\"Asia/Bangkok\");\r\n     $mydate = date(\"Y-m-d\");\r\n-    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$myasset', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'pending', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n+    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'pending', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n     $res = $conn->query($sql);\r\n     $last_id = $conn->insert_id;\r\n \r\n     for($i = 0 ;  $i < count($myselectedlist) ; $i++)\r\n"
                },
                {
                    "date": 1633412697870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -363,9 +363,9 @@\n     $mytoroom = $_POST['mytoroom'];\r\n     $myremark = $_POST['myremark'];\r\n     date_default_timezone_set(\"Asia/Bangkok\");\r\n     $mydate = date(\"Y-m-d\");\r\n-    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mygroup', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'pending', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n+    $sql = \"INSERT INTO `transaction_displacement_department` VALUES (NULL, 'TRX---', '$idsister', '$mybranch', '$mydepartment', '$myfromroom', '$mytoroom', '$myremark', 'pending', 'CURRENT_TIMESTAMP', '$mydate');\";\r\n     $res = $conn->query($sql);\r\n     $last_id = $conn->insert_id;\r\n \r\n     for($i = 0 ;  $i < count($myselectedlist) ; $i++)\r\n"
                },
                {
                    "date": 1633412786857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,10 +6,8 @@\n if($tipe == \"load\")\r\n {\r\n \r\n     $where_like = [\r\n-        'assetname',\r\n-        'noasset',\r\n         'branch',\r\n         'roomfroom',\r\n         'toroom',\r\n         'status_approval',\r\n@@ -25,53 +23,46 @@\n     $search   = $response['search']['value'];\r\n     \r\n     $total_data = mysqli_query($conn, \r\n     \r\n-    \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+    \"SELECT tdd.*, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n     inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n     inner join location_room lfromroom on lfromroom.id = tdd.idfromroom \r\n-    inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-    inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses'\r\n+    inner join location_room ltoroom on ltoroom.id = tdd.idtoroom  where tdd.idsister = '$myses'\r\n     \"\r\n \r\n );\r\n     \r\n     if(empty($search)) {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom  where tdd.idsister = '$myses' ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n-        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' \");\r\n+        inner join location_room ltoroom on ltoroom.id = tdd.idtoroom  where tdd.idsister = '$myses' \");\r\n     } else {\r\n-        $query_data = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $query_data = mysqli_query($conn, \"SELECT tdd.*, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n-        inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n+         where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n-        OR asset.noasset LIKE '%$search%'\r\n-        OR asset.name LIKE '%$search%'\r\n         OR lfromroom.room LIKE '%$search%'\r\n         OR ltoroom.room LIKE '%$search%' \r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%' )  ORDER BY $order $dir LIMIT $start, $length\");\r\n     \r\n-        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, asset.noasset, asset.name as assetname, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n+        $total_filtered = mysqli_query($conn, \"SELECT tdd.*, lbranch.branch, lfromroom.room as myfromroom, ltoroom.room as toroom  FROM transaction_displacement_department tdd\r\n         inner join location_branch lbranch on lbranch.idbranch = tdd.idbranch\r\n         inner join location_room lfromroom on lfromroom.id = tdd.idfromroom\r\n         inner join location_room ltoroom on ltoroom.id = tdd.idtoroom \r\n         inner join asset on asset.id = tdd.idasset where tdd.idsister = '$myses' and (\r\n          tdd.notransaction LIKE '%$search%' \r\n         OR lbranch.branch LIKE '%$search%'\r\n-        OR asset.noasset LIKE '%$search%'\r\n-        OR asset.name LIKE '%$search%'\r\n         OR lfromroom.room LIKE '%$search%'\r\n         OR ltoroom.room LIKE '%$search%' \r\n         OR tdd.remark LIKE '%$search%'\r\n         OR tdd.status_approval LIKE '%$search%' )\");\r\n"
                },
                {
                    "date": 1633669317568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,17 +474,10 @@\n         $mycounter = 1;\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n             $mycountasset += 1;\r\n-            if($mycounter == 1)\r\n-            {\r\n-                $mystring .= \"<div class = 'row'><div class = 'col-md-6'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"</label></div>\";\r\n-                $mycounter = 2;\r\n-            }\r\n-            else{\r\n-                $mystring .= \"<div class = 'col-md-6'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"</label></div></div><br>\";\r\n-                $mycounter = 1;\r\n-            }\r\n+            $mystring .= \"<div class = 'row' style = 'margin-left:5px;'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"<br> Rp \".$r['harga'].\"</label></div><br>\";\r\n+             \r\n             $mynumber ++;\r\n             \r\n         }\r\n         echo $mycountasset.\"||\".$mystring;\r\n"
                },
                {
                    "date": 1633669362069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -474,10 +474,9 @@\n         $mycounter = 1;\r\n         while($r = mysqli_fetch_array($res))\r\n         {\r\n             $mycountasset += 1;\r\n-            $mystring .= \"<div class = 'row' style = 'margin-left:5px;'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"<br> Rp \".$r['harga'].\"</label></div><br>\";\r\n-             \r\n+            $mystring .= \"<div class = 'row' style = 'margin-left:5px;'><label style = 'display:block;float:left;heigth:100px;font-size:12pt;' ><b>$mynumber. </b> &nbsp </label><label style = 'display:block;float:left' >\".$r['assetname'].\"<br>\".$r['noasset'].\"</label></div><br>\";             \r\n             $mynumber ++;\r\n             \r\n         }\r\n         echo $mycountasset.\"||\".$mystring;\r\n"
                }
            ],
            "date": 1632884923748,
            "name": "Commit-0",
            "content": "<?php\r\nrequire '../connection.php';\r\nsession_start();\r\n$tipe = $_POST['tipe'];\r\nif($tipe == \"load\")\r\n{\r\n\r\n    $where_like = [\r\n        'groupname',\r\n        'subgroupname',\r\n        'categoryname',\r\n        'noasset',\r\n        'name',\r\n        'initial_condition',\r\n        'conditions',\r\n        'status'\r\n        \r\n    ];\r\n    \r\n    $response = $_REQUEST;\r\n    $start    = $response['start'];\r\n    $length   = $response['length'];\r\n    $order    = $where_like[$response['order'][0]['column']];\r\n    $dir      = $response['order'][0]['dir'];\r\n    $search   = $response['search']['value'];\r\n    \r\n    $total_data = mysqli_query($conn, \r\n    \r\n    \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n    inner join relation on relation.id = asset.purchase_from \r\n    inner join kategori_asset ka on ka.id = asset.idgroup\r\n    inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n    inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n    inner join conditions c on c.id = asset.idcondition\r\n    inner join initial_condition ic on ic.id = asset.idinitialcondition\r\n    \"\r\n\r\n);\r\n    \r\n    if(empty($search)) {\r\n        $query_data = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n         inner join relation on relation.id = asset.purchase_from \r\n        inner join kategori_asset ka on ka.id = asset.idgroup\r\n        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n        inner join conditions c on c.id = asset.idcondition\r\n        inner join initial_condition ic on ic.id = asset.idinitialcondition ORDER BY $order $dir LIMIT $start, $length\");\r\n    \r\n        $total_filtered = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n         inner join relation on relation.id = asset.purchase_from \r\n        inner join kategori_asset ka on ka.id = asset.idgroup\r\n        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n        inner join conditions c on c.id = asset.idcondition\r\n        inner join initial_condition ic on ic.id = asset.idinitialcondition \");\r\n    } else {\r\n        $query_data = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n         inner join relation on relation.id = asset.purchase_from \r\n        inner join kategori_asset ka on ka.id = asset.idgroup\r\n        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n        inner join conditions c on c.id = asset.idcondition\r\n        inner join initial_condition ic on ic.id = asset.idinitialcondition \r\n        WHERE ka.nama LIKE '%$search%' \r\n        OR ks.subgroup LIKE '%$search%'\r\n        OR kc.category LIKE '%$search%'\r\n        OR ic.initial_condition LIKE '%$search%'\r\n        OR c.name LIKE '%$search%'\r\n        OR asset.noasset LIKE '%$search%'\r\n        OR asset.name LIKE '%$search%'\r\n        OR asset.status LIKE '%$search%' ORDER BY $order $dir LIMIT $start, $length\");\r\n    \r\n        $total_filtered = mysqli_query($conn, \"SELECT ka.nama as groupname, ks.subgroup as subgroupname, kc.category as categoryname, ic.initial_condition, c.name as conditions, relation.company as myrelation, asset.* FROM `asset`\r\n         inner join relation on relation.id = asset.purchase_from \r\n        inner join kategori_asset ka on ka.id = asset.idgroup\r\n        inner join kategori_subgroup ks on ks.id = asset.idsubgroup\r\n        inner join kategori_categorysubgroup kc on kc.id = asset.idcategory\r\n        inner join conditions c on c.id = asset.idcondition\r\n        inner join initial_condition ic on ic.id = asset.idinitialcondition \r\n        WHERE ka.nama LIKE '%$search%' \r\n        OR ks.subgroup LIKE '%$search%'\r\n        OR kc.category LIKE '%$search%'\r\n        OR ic.initial_condition LIKE '%$search%'\r\n        OR c.name LIKE '%$search%'\r\n        OR asset.noasset LIKE '%$search%'\r\n        OR asset.name LIKE '%$search%'\r\n        OR asset.status LIKE '%$search%'\");\r\n    }\r\n    \r\n    $response['data'] = [];\r\n    \r\n    if($query_data) {\r\n        while($row = mysqli_fetch_assoc($query_data)) {\r\n            $mystats = \"\";\r\n            if($row['status'] == \"Active\")\r\n            {\r\n                $myactionsetto = \"InActive\";\r\n                $mystats = '<span class=\"badge badge-success\">Active</span>';\r\n                $myaction = \"<a class='dropdown-item' onclick = setstatus('\".$row['id'].\"-\".$myactionsetto.\"')><i class='icon-check'></i>\r\n                Set InActive</a>'\";\r\n            }\r\n            else\r\n            {\r\n                $myactionsetto = \"Active\";\r\n                $mystats = '<span class=\"badge badge-danger\">InActive</span>';\r\n                $myaction = \"<a class='dropdown-item' onclick = setstatus('\".$row['id'].\"-\".$myactionsetto.\"')><i class='icon-check'></i>\r\n                Set Active</a>'\";\r\n            }\r\n            $postingdate = date_format(date_create($row['posting_date']), \"d-m-Y\");\r\n            $startdate = date_format(date_create($row['start_date']), \"d-m-Y\");\r\n            $enddate = date_format(date_create($row['end_date']), \"d-m-Y\");\r\n            // $myrelation = str_replace( \" \", ' ', $row['myrelation'] ); \r\n            $response['data'][] = [\r\n                \"<a href= '#myModalDisplay'  data-toggle='modal'><span class='pointer-element badge badge-success' id ='\".$row['id'].\"' onclick = 'openmodaldisplay(this)'  data-id='\".$row['id'].\"'><i class='icon-plus3'></i></span></a>\",\r\n                \"<label id ='noasset\".$row['id'].\"'>\".$row['noasset'].\"</label>\",\r\n                \"<label id ='name\".$row['id'].\"'>\".$row['name'].\"</label>\",\r\n                \"<label id ='initial\".$row['id'].\"'>\".$row['initial_condition'].\"</label>\",\r\n                \"<label id ='condition\".$row['id'].\"'>\".$row['conditions'].\"</label>\",\r\n                \"<label id ='group\".$row['id'].\"'>\".$row['groupname'].\"</label>\",\r\n                \"<label id ='subgroup\".$row['id'].\"'>\".$row['subgroupname'].\"</label>\",\r\n                \"<label id ='category\".$row['id'].\"'>\".$row['categoryname'].\"</label>\",\r\n                \"<label id ='status\".$row['id'].\"'>\".$mystats.\"</label>\"\r\n                .\"<input type = 'hidden' id = 'nopo\".$row['id'].\"' value = '\".$row['noPo'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'relation\".$row['id'].\"'  value = '\".$row['myrelation'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'postingdate\".$row['id'].\"'  value = '\".$postingdate.\"'>\"\r\n                .\"<input type = 'hidden' id = 'postingdateraw\".$row['id'].\"'  value = '\".$row['posting_date'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'purchaseprice\".$row['id'].\"'  value = '\".$row['purchase_price'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'ppn\".$row['id'].\"'  value = '\".$row['ppn'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'totalpurchaseprice\".$row['id'].\"'  value = '\".$row['total_purchase_price'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'economical\".$row['id'].\"'  value = '\".$row['economical'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'costpermonth\".$row['id'].\"'  value = '\".$row['cost_per_month'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'startdate\".$row['id'].\"'  value = '\".$startdate.\"'>\"\r\n                .\"<input type = 'hidden' id = 'enddate\".$row['id'].\"'  value = '\".$enddate.\"'>\"\r\n                .\"<input type = 'hidden' id = 'totalmonth\".$row['id'].\"'  value = '\".$row['totalmonth'].\"'>\"\r\n                .\"<input type = 'hidden' id = 'image\".$row['id'].\"'  value = '\".$row['image'].\"'>\",\r\n                ' <div class=\"list-icons\">\r\n                <div class=\"dropdown\">\r\n                    <a href=\"#\" class=\"list-icons-item\" data-toggle=\"dropdown\">\r\n                        <i class=\"icon-menu9\"></i>\r\n                    </a>\r\n    \r\n                    <div class=\"dropdown-menu dropdown-menu-right\">\r\n                        <a href=\"#myModaledit\" data-toggle=\"modal\" class=\"dropdown-item\" id =\"click-'.$row['id'].'-'.$row['idgroup'].'-'.$row['idsubgroup'].'-'.$row['idcategory'].'-'.$row['idinitialcondition'].'-'.$row['idcondition'].'\"  onclick = \"openmodaledit(this)\"><i class=\"icon-check\"></i>\r\n                            Edit</a>\r\n                        \r\n                        '.$myaction.'\r\n                   \r\n                    </div>\r\n                </div>\r\n            </div>'\r\n            ];\r\n        }\r\n    }\r\n    \r\n    $response['recordsTotal'] = 0;\r\n    if($total_data <> FALSE) {\r\n        $response['recordsTotal'] = mysqli_num_rows($total_data);\r\n    }\r\n    \r\n    $response['recordsFiltered'] = 0;\r\n    if($total_filtered <> FALSE) {\r\n        $response['recordsFiltered'] = mysqli_num_rows($total_filtered);\r\n    }  \r\n    \r\n    echo json_encode($response);\r\n}\r\nelse if($tipe == \"gettemplatecategory\")\r\n{\r\n    $idcategory = $_POST['idcategory'];\r\n    $sql = \"select template.id, template.template from kategori_categorysubgroup kcs inner join template on template.id = kcs.idtemplate where kcs.id = '$idcategory'\";\r\n    $res = $conn->query($sql);\r\n    $row = mysqli_fetch_array($res);\r\n    \r\n    if($res->num_rows>0)\r\n    {\r\n        $idtemplate = $row['id'];\r\n        $nametemplate = $row['template'];\r\n        echo $idtemplate.\"~~~\";\r\n        echo $nametemplate.\"~~~\";\r\n        $sqls = \"select folder_custom.*, custom_to_template.id as idquestion  from custom_to_template inner join folder_custom on folder_custom.id = custom_to_template.idcustom where custom_to_template.idtemplate = '$idtemplate'\"; \r\n        $ress = $conn->query($sqls);\r\n        // echo $sqls;\r\n        if($ress -> num_rows>0)\r\n        {\r\n            $mystring = \"\";\r\n            $mycode = \"\";\r\n            $myindex = 0 ;\r\n            while($r = mysqli_fetch_array($ress))\r\n            {\r\n                if($myindex == 0)\r\n                {\r\n                    $mycode .= $r['id'];\r\n                }\r\n                else{\r\n                    $mycode .= \",\".$r['id'];\r\n                }\r\n                $myindex++;\r\n               \r\n                $mystring .=  '\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-12\">\r\n                        <div class=\"form-group\">\r\n                            <label>'.$r['name'].' </label>\r\n                            <input type=\"text\" name=\"custom'.$r['idquestion'].'\" placeholder=\"Enter '.$r['name'].'\" class=\"form-control required\" id = \"startwarranty\"><br>\r\n                        </div>\r\n                    </div>\r\n                </div>';\r\n            }\r\n            echo $mycode.\"~~\".$mystring;\r\n        }\r\n        else{\r\n            echo \"none\";\r\n        }\r\n    }\r\n    else{\r\n        echo \"another\";\r\n    }\r\n\r\n}\r\nelse if($tipe == \"getallanswer\")\r\n{\r\n\r\n    $idasset = $_POST['idassets'];\r\n    $sql = \"select folder_custom.name as namequestion, custom_template_answer.answer from custom_template_answer \r\n    inner join custom_to_template on custom_to_template.id = custom_template_answer.id_custom_to_template\r\n    inner join folder_custom on folder_custom.id = custom_to_template.idcustom\r\n    where custom_template_answer.idasset = '$idasset'\";\r\n  \r\n    $res = $conn->query($sql);\r\n    if($res -> num_rows>0)\r\n    {\r\n        // echo $sql;\r\n        $mystring = \"\";\r\n        while($r = mysqli_fetch_array($res))\r\n        {\r\n        \r\n            $mystring .=  '\r\n            <div class=\"row\">\r\n              <div class=\"col-md-12\">\r\n                    <div class=\"form-group\">\r\n                        <label>'.$r['namequestion'].' </label><br>\r\n                        <b><label>'.$r['answer'].'</label></b>\r\n                    </div>\r\n                </div>\r\n            </div>';\r\n        }\r\n        echo $mystring;\r\n    }\r\n    else{\r\n        echo \"none\";\r\n    }\r\n}\r\nelse if($tipe == \"getcustomquestion\")\r\n{\r\n    $idtemplate = $_POST['idtemplate'];\r\n    $sql = \"select folder_custom.*, custom_to_template.id as idquestion  from custom_to_template inner join folder_custom on folder_custom.id = custom_to_template.idcustom where custom_to_template.idtemplate = '$idtemplate'\"; \r\n    $res = $conn->query($sql);\r\n    if($res -> num_rows>0)\r\n    {\r\n        $mystring = \"\";\r\n        $mycode = \"\";\r\n        $myindex = 0 ;\r\n        while($r = mysqli_fetch_array($res))\r\n        {\r\n            if($myindex == 0)\r\n            {\r\n                $mycode .= $r['id'];\r\n            }\r\n            else{\r\n                $mycode .= \",\".$r['id'];\r\n            }\r\n            $myindex++;\r\n           \r\n            $mystring .=  '\r\n            <div class=\"row\">\r\n              <div class=\"col-md-12\">\r\n                    <div class=\"form-group\">\r\n                        <label>'.$r['name'].' </label>\r\n                        <input type=\"text\" name=\"custom'.$r['idquestion'].'\" placeholder=\"Enter '.$r['name'].'\" class=\"form-control required\" id = \"startwarranty\"><br>\r\n                    </div>\r\n                </div>\r\n            </div>';\r\n        }\r\n        echo $mycode.\"~~\".$mystring;\r\n    }\r\n    else{\r\n        echo \"none\";\r\n    }\r\n\r\n}\r\nelse if($tipe == \"addassetform\")\r\n{\r\n \r\n    $statuspostingdate = \"no\";\r\n    $date1= date_create($_POST['postingdate']);\r\n   \r\n    $date2=date_create(date(\"Y-m-d\"));\r\n    $diff=date_diff($date1,$date2);\r\n    $perbedaan =  $diff->format(\"%m\");\r\n    if($perbedaan < 0)\r\n    {\r\n        $perbedaan = 0;\r\n    }\r\n    if(isset($_POST['statuspostingdate']))\r\n    {\r\n        $perbedaan+=1;\r\n        $statuspostingdate =  \"yes\";\r\n    }\r\n    $totalmonth = $perbedaan; \r\n    $noasset = $_POST['noasset'];\r\n    $assetname = $_POST['name'];\r\n    $group = $_POST['group'];\r\n    $initialcondition = $_POST['initialcondition'];\r\n    $subgroup = $_POST['subgroup'];\r\n    $condition = $_POST['condition'];\r\n    $category = $_POST['category'];\r\n    $nopo = $_POST['nopo'];\r\n    $relation = $_POST['relation'];\r\n    $postingdate = date_format(date_create($_POST['postingdate']), \"Y-m-d\");\r\n    $purchaseprice = $_POST['purchaseprice'];\r\n    $ppn = $_POST['ppn'];\r\n    $totalpurchaseprice = $_POST['totalpurchaseprice'];\r\n    $costpermonth = $_POST['costpermonth'];\r\n    $economicallifetime = $_POST['economicallifetime'];\r\n\r\n    $startwarranty = date_format(date_create($_POST['startwarranty']), \"Y-m-d\");\r\n    $endwarranty = date_format(date_create($_POST['endwarranty']), \"Y-m-d\");\r\n    $template = $_POST['template'];\r\n    \r\n    $mystartwarranty = NULL;\r\n    $myendwarranty = NULL;\r\n    $myfile = \"\";\r\n    if(isset($_POST['startwarranty']))\r\n    {\r\n        $mystartwarranty = $_POST['startwarranty'];\r\n    }\r\n    if(isset($_POST['endwarranty']))\r\n    {\r\n        $myendwarranty = $_POST['endwarranty'];\r\n    }\r\n    if(isset($_FILES['myfile']['tmp_name']))\r\n    {\r\n        if(!is_dir(\"../assets/attach/\")) {\r\n            mkdir(\"../assets/attach/\");\r\n        }\r\n        \r\n        // echo \"test\";\r\n        // echo count($_POST['myfile']);\r\n        $jumlah = count($_FILES['myfile']['tmp_name']);\r\n        for($i = 0 ; $i < $jumlah;$i++)\r\n        {\r\n            $filename = \"$noasset\".\"_\".date(\"Y_m_d_H_i_s\").\"_\".$_FILES['myfile']['name'][$i];\r\n            // $filename = $_FILES['myfile']['name'][$i];\r\n            if($i == 0 )\r\n            {\r\n                $myfile .= $filename;\r\n            }\r\n            else{\r\n                $myfile .= \",\".$filename;\r\n            }\r\n            move_uploaded_file($_FILES[\"myfile\"][\"tmp_name\"][$i], \"../assets/attach/\".$filename);\r\n       \r\n        }\r\n        // $file = $_FILES['myfile']['tmp_name'];\r\n    }\r\n    // echo $myfile;\r\n    $mysessionsistercompany = $_SESSION['idsister'];\r\n    $sql = \"INSERT into asset values(NULL, '$mysessionsistercompany', '$group', '$subgroup', '$category', '$initialcondition', \r\n    '$condition', '$template','$noasset', '$assetname','$nopo', '$relation', '$postingdate', '$statuspostingdate', '$totalmonth', '$purchaseprice', '$ppn', '$totalpurchaseprice',\r\n    '$economicallifetime', '$costpermonth', '$mystartwarranty', '$myendwarranty', '$myfile', 'Active')\";\r\n    $res = $conn->query($sql);\r\n    if(($conn -> affected_rows)>0)\r\n    {\r\n        $last_id = $conn->insert_id;\r\n        if($_POST['idcustomquestion']!=\"\" && $_POST['idcustomquestion']!=\"none\")\r\n        {\r\n            $splitidcustom = explode(',', $_POST['idcustomquestion']);\r\n            for($i = 0 ;$i < count($splitidcustom); $i++)\r\n            {\r\n                $currentid = $splitidcustom[$i];\r\n                $currentvalue = $_POST['custom'.$currentid];\r\n                $sqlinsertanswer = \"INSERT into custom_template_answer values(NULL, '$currentid', '$last_id' , '$currentvalue')\";\r\n                $resinsertanswer = $conn->query($sqlinsertanswer);\r\n            }\r\n        }\r\n        echo \"sukses\";\r\n\r\n    }\r\n    else{\r\n        echo \"tidak\";\r\n    }\r\n    \r\n\r\n\r\n}\r\nelse if($tipe == \"add\"){\r\n\r\n    $idsister = $_SESSION['idsister'];\r\n    $group = $_POST['group'];\r\n    $subgroup = $_POST['subgroup'];\r\n    $category = $_POST['category'];\r\n    $initialcondition = $_POST['initialcondition'];\r\n    $condition = $_POST['condition'];\r\n    $noasset = $_POST['noasset'];\r\n    $name = $_POST['name'];\r\n\r\n    $sql = \"INSERT into asset values(NULL,'\".$idsister.\"', '\".$group.\"', '\".$subgroup.\"', '\".$category.\"', '\".$initialcondition.\"', '\".$condition.\"', '\".$noasset.\"', '\".$name.\"', 'Active', NULL, NULL)\";\r\n    $res = $conn->query($sql);\r\n    if(($conn -> affected_rows)>0)\r\n    {\r\n        echo \"sukses\";\r\n    }\r\n    else{\r\n        echo \"tidak\";\r\n    }\r\n    // echo $sql;\r\n}\r\nelse if($tipe == \"changedata\")\r\n{\r\n    $id  = $_POST['myid'];\r\n    $idsister = $_SESSION['idsister'];\r\n    $group = $_POST['group'];\r\n    $subgroup = $_POST['subgroup'];\r\n    $category = $_POST['category'];\r\n    $initialcondition = $_POST['initialcondition'];\r\n    $condition = $_POST['condition'];\r\n    $noasset = $_POST['noasset'];\r\n    $name = $_POST['name'];\r\n    $sql = \"update asset set \r\n           idsistercompany = '\".$idsister.\"', \r\n           idgroup = '\".$group.\"', \r\n           idsubgroup = '\".$subgroup.\"',\r\n           idcategory = '\".$category.\"',\r\n           idinitialcondition = '\".$initialcondition.\"',\r\n           idcondition = '\".$condition.\"',\r\n           noasset = '\".$noasset.\"',\r\n           name = '\".$name.\"' \r\n            where id = '\".$id.\"'\";\r\n    $res = $conn->query($sql);\r\n    if(($conn -> affected_rows)>0)\r\n    {\r\n        echo \"sukses\";\r\n    }\r\n    else{\r\n        echo \"tidak\";\r\n    }\r\n}\r\nelse if($tipe == \"setstatus\")\r\n{\r\n    $myid = $_POST['myidchange'];\r\n    $stat = $_POST['stat'];\r\n    $sql = \"update asset set status = '\".$stat.\"' where id = '\".$myid.\"'\";\r\n    $res = $conn->query($sql);\r\n}\r\nelse if($tipe == \"getsubgroup\")\r\n{\r\n    $getid = $_POST['idgroup'];\r\n    $sql = \"select ks.id, ks.subgroup from kategori_subgroup ks where ks.idkategoriaset = '\".$getid.\"' and ks.status = 'Active'\";\r\n    $res = $conn->query($sql);\r\n    $mystring = \"\";\r\n    if($res -> num_rows>0)\r\n    {\r\n        while($r = mysqli_fetch_array($res))\r\n        {\r\n            $mystring .= \"<option value = '\".$r['id'].\"' >\".$r['subgroup'].\"</option>\";\r\n        }\r\n        echo $mystring;\r\n    }\r\n    else{\r\n        echo \"none\";\r\n    }\r\n}\r\nelse if($tipe == \"getcategory\")\r\n{\r\n    $getid = $_POST['idsubgroup'];\r\n    $sql = \"select kcs.id, kcs.category from kategori_categorysubgroup kcs where kcs.idsubgroup = '\".$getid.\"' and kcs.status = 'Active'\";\r\n    $res = $conn->query($sql);\r\n    $mystring = \"\";\r\n    if($res -> num_rows>0)\r\n    {\r\n        while($r = mysqli_fetch_array($res))\r\n        {\r\n            $mystring .= \"<option value = '\".$r['id'].\"' >\".$r['category'].\"</option>\";\r\n        }\r\n        echo $mystring;\r\n    }\r\n    else{\r\n        echo \"none\";\r\n    }\r\n}\r\n?>"
        }
    ]
}