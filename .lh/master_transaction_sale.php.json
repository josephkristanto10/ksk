{
    "sourceFile": "master_transaction_sale.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1632821703198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1632821703198,
            "name": "Commit-0",
            "content": "<?php\r\nrequire_once 'layout/header.php';\r\nrequire_once 'layout/sidebar.php';\r\nrequire_once 'layout/footer.php';\r\n$sqlrelation = \"select * from relation where status = 'Active'\";\r\n$resrelation = $conn->query($sqlrelation);\r\n$myrelation = array();\r\nif($resrelation -> num_rows>0)\r\n{\r\n\twhile($j = mysqli_fetch_array($resrelation))\r\n\t{\r\n\t\t$myrelation[] = $j;\r\n\t}\r\n}\r\n$sqltemplate = \"select * from template where status = 'Active'\";\r\n$restemplate = $conn->query($sqltemplate);\r\n$mytemplate = array();\r\nif($restemplate -> num_rows>0)\r\n{\r\n\twhile($j = mysqli_fetch_array($restemplate))\r\n\t{\r\n\t\t$mytemplate[] = $j;\r\n\t}\r\n}\r\n$sqlasset = \"select * from kategori_asset\";\r\n$resasset  = $conn->query($sqlasset);\r\n$myasset = array();\r\nif($resasset -> num_rows>0)\r\n{\r\n\twhile($j = mysqli_fetch_array($resasset))\r\n\t{\r\n\t\t$myasset[] = $j;\r\n\t}\r\n}\r\n$sqlinitial = \"select * from initial_condition\";\r\n$resinitial  = $conn->query($sqlinitial);\r\n$myinitial = array();\r\nif($resinitial -> num_rows>0)\r\n{\r\n\twhile($j = mysqli_fetch_array($resinitial))\r\n\t{\r\n\t\t$myinitial[] = $j;\r\n\t}\r\n}\r\n$sqlconditions = \"select * from conditions\";\r\n$resconditions  = $conn->query($sqlconditions);\r\n$myconditions = array();\r\nif($resconditions -> num_rows>0)\r\n{\r\n\twhile($j = mysqli_fetch_array($resconditions))\r\n\t{\r\n\t\t$myconditions[] = $j;\r\n\t}\r\n}\r\n?>\r\n\r\n<head>\r\n    <style>\r\n        \r\n        #myModalDisplay{\r\n            height: 95vh !important;\r\n        }\r\n        .modal-body {\r\n            width: 100%;\r\n            height: 95vh !important;\r\n            padding: 0 !important;\r\n            margin: 0 !important;\r\n            \r\n        }\r\n\r\n        .fileinput-upload-button {\r\n            display: none;\r\n        }\r\n\r\n        .nav-tabs>.nav-item>.active {\r\n            background-color: #26a69a !important;\r\n        }\r\n    </style>\r\n</head>\r\n<!-- Main navbar -->\r\n\r\n\r\n<div class=\"content-wrapper\">\r\n    <div class=\"page-header page-header-light\">\r\n        <div class=\"page-header-content header-elements-md-inline\">\r\n            <h4><span class=\"font-weight-semibold\">Asset's Sale </span></h4>\r\n            <div class=\"page-title d-flex\">\r\n                <div class=\"row\" style=\"width:100%;\">\r\n                    <div class=\"col-xl-12\">\r\n                        <a href=\"#myModal\" data-toggle=\"modal\"><button type=\"button\" style = \"background-color:#26a69a !important; color:white; width:200px;\" class=\"btn btn-indigo btn-labeled btn-labeled-left\" onclick=\"cancel()\" data-toggle=\"modal\" data-target=\"#modal_form\">\r\n                            <b><i class=\"icon-plus-circle2\"></i></b> Add Transaction\r\n                        </button></a>\r\n                    </div>\r\n                </div>\r\n                <a href=\"#\" class=\"header-elements-toggle text-default d-md-none\"><i class=\"icon-more\"></i></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"content\">\r\n        <div class=\"row\">\r\n            <div class=\"col-xl-12\">\r\n                <div class=\"card\">\r\n\r\n                    <table id=\"datatable_serverside\" class=\"table table-hover table-bordered display nowrap w-100\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>No Trx </th>\r\n                                <th>Asset</th>\r\n                                <th>Date</th>\r\n                                <th>Approval</th>\r\n                                \r\n                            </tr>\r\n                        </thead>\r\n    </tbody>\r\n        <tr>\r\n            <td><span class='pointer-element badge badge-success'><i class='icon-plus3'></i></span></td>\r\n            <td>TRX-11</td>\r\n            <td>Vas Bunga</td>\r\n            <td>2021-09-12</td>\r\n            <td><span class=\"badge badge-success\">Approved</span></td>\r\n        </tr>\r\n        <tr>\r\n        <td><span class='pointer-element badge badge-success'><i class='icon-plus3'></i></span></td>\r\n            <td>TRX-11</td>\r\n            <td>Vas Bunga</td>\r\n            <td>2021-09-12</td>\r\n            <td><span class=\"badge badge-success\">Approved</span></td>\r\n        </tr>\r\n        <tr>\r\n        <td><span class='pointer-element badge badge-success'><i class='icon-plus3'></i></span></td>\r\n            <td>TRX-11</td>\r\n            <td>Vas Bunga</td>\r\n            <td>2021-09-12</td>\r\n            <td><span class=\"badge badge-success\">Approved</span></td>\r\n        </tr>\r\n\r\n</tbody>\r\n\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"modal fade \" id=\"myModal\">\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <!-- <div class=\"modal-header\" style=\"background-color:#324148;color:white;height:60px;\">\r\n\t\t\t\t\t\t<h5 class=\"modal-title\">Add Assets</h5>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">Ã—</span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t</div> -->\r\n            <div class=\"modal-body\">\r\n                <div class=\"card\">\r\n                    <!-- <div class=\"card-header bg-white header-elements-inline\">\r\n\t\t\t\t\t\t<h6 class=\"card-title\"> Asset <?php echo $_SESSION['namasister']; ?></h6>\r\n\t\t\t\t\t\t<div class=\"header-elements\">\r\n\t\t\t\t\t\t\t<div class=\"list-icons\">\r\n\t\t                \t\t<a class=\"list-icons-item\" data-action=\"collapse\"></a>\r\n\t\t                \t\t<a class=\"list-icons-item\" data-action=\"reload\"></a>\r\n\t\t                \t\t<a class=\"list-icons-item\" data-action=\"remove\"></a>\r\n\t\t                \t</div>\r\n\t                \t</div>\r\n\t\t\t\t\t</div> -->\r\n                    <center>\r\n                        <h4><span class=\"font-weight-semibold\">Add Asset Form</span></h4>\r\n                        <h6 style=\"color:grey;\">Please fill any requirement data to add asset</h6>\r\n                    </center>\r\n                    <form class=\"wizard-form steps-validation\" id=\"myform\" method=\"post\" enctype=\"multipart/form-data\"\r\n                        data-fouc>\r\n                        <input type=\"hidden\" name=\"tipe\" value=\"addassetform\">\r\n                        <h6>General</h6>\r\n                        <fieldset>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">No Asset</label><input type=\"text\"\r\n                                            class=\"form-control required\" name=\"noasset\" id=\"noasset\" />\r\n\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <!-- <label for=\"noasset\">No Asset</label><input type=\"text\" class = \"form-control\"  name=\"noasset\" id=\"noasset\" /> -->\r\n\r\n                                        <label for=\"name\">Name</label><input type=\"text\" class=\"form-control required\"\r\n                                            name=\"name\" id=\"name\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n\r\n                                        <label for=\"idgroup\">Group</label>\r\n                                        <select class=\"form-control required\" name=\"group\" id=\"group\"\r\n                                            onchange=\"searchsubgroup(this)\">\r\n                                            <?php\r\n                                                for($i = 0 ; $i < count($myasset); $i++)\r\n                                                {\r\n                                                    echo '<option value = \"'.$myasset[$i]['id'].'\">'.$myasset[$i]['nama'].'</option>';\r\n                                                }\r\n                                                ?>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"idinitialcondition\">Initial Condition</label>\r\n                                        <select class=\"form-control\" name=\"initialcondition\" id=\"initialcondition\">\r\n                                            <?php\r\n                                            for($i = 0 ; $i < count($myinitial); $i++)\r\n                                            {\r\n                                                echo '<option value = \"'.$myinitial[$i]['id'].'\">'.$myinitial[$i]['initial_condition'].'</option>';\r\n                                            }\r\n                                            ?>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"idsubgroup\">Subgroup</label>\r\n                                        <select class=\"form-control required\" name=\"subgroup\" id=\"subgroup\"\r\n                                            onchange=\"searchcategory(this)\">\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"idcondition\">Condition</label>\r\n                                        <select class=\"form-control required\" name=\"condition\" id=\"condition\">\r\n                                            <?php\r\n                                for($i = 0 ; $i < count($myconditions); $i++)\r\n                                {\r\n                                    echo '<option value = \"'.$myconditions[$i]['id'].'\">'.$myconditions[$i]['name'].'</option>';\r\n                                }\r\n                                ?>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"idcategory\">Category</label>\r\n                                        <select class=\"form-control required\" id=\"category\" name=\"category\">\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </fieldset>\r\n\r\n                        <h6>Purchase</h6>\r\n                        <fieldset>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">No. PO</label>\r\n                                        <input type=\"text\" class=\"form-control required\" name=\"nopo\" id=\"nopo\" />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>Purchase From:</label>\r\n                                        <select name=\"relation\" data-placeholder=\"Choose a Country...\"\r\n                                            class=\"form-control form-control-select2 required\" data-fouc>\r\n                                            <?php\r\n                                            for($i = 0 ; $i < count($myrelation); $i++)\r\n                                            {\r\n                                                echo '<option value = \"'.$myrelation[$i]['id'].'\">'.$myrelation[$i]['company'].'</option>';\r\n                                            }\r\n                                        ?>\r\n\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">Posting Date</label>\r\n                                        <div class=\"input-group\">\r\n                                            <span class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\"><i class=\"icon-calendar22\"></i></span>\r\n                                            </span>\r\n                                            <input type=\"text\" class=\"form-control pickadate required\"\r\n                                                name=\"postingdate\" id=\"postingdate\" value=\"<?php date_default_timezone_set('Asia/Jakarta');\r\necho date('d-m-Y');?>\">\r\n\r\n                                        </div>\r\n                                        <input type=\"checkbox\" name=\"statuspostingdate\" id=\"statuspostingdate\"\r\n                                            value=\"yes\" style=\"margin-top:10px;margin-left:10px;\"> &nbsp <label>After\r\n                                            15?</label>\r\n\r\n                                        <!-- <input type=\"date\" class = \"form-control required\"  name=\"postingdate\" id=\"postingdate\" /> -->\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">Purchase Price</label>\r\n                                        <input type=\"text\" class=\"form-control required\" name=\"purchaseprice\"\r\n                                            id=\"purchaseprice\" value=\"0\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">PPN</label>\r\n                                        <!-- <input type=\"text\" class = \"form-control required\"  name=\"ppn\" id=\"ppn\" /> -->\r\n                                        <select data-placeholder=\"Choose PPN\" name=\"ppn\" id='ppn'\r\n                                            class=\"form-control form-control-select2 required\" onchange=\"setppn(this)\"\r\n                                            data-fouc>\r\n                                            <option value=\"0\">No PPN</option>\r\n                                            <option value=\"0.1\">10%</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">Total Purchase Price</label>\r\n                                        <input type=\"text\" class=\"form-control required\" name=\"totalpurchaseprice\"\r\n                                            id=\"totalpurchaseprice\" value=\"0\" readonly />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">Economical Life Time</label>\r\n                                        <div class=\"input-group\">\r\n                                            <span class=\"input-group-prepend\">\r\n                                                <span class=\"input-group-text\">MONTH</span>\r\n                                            </span>\r\n                                            <input type=\"text\" class=\"form-control required\" name=\"economicallifetime\"\r\n                                                value=\"0\" id=\"economicallifetime\"\r\n                                                onkeyup=\"javascript:return isNumber(event)\" />\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"noasset\">Cost Per Month</label>\r\n                                        <input type=\"text\" class=\"form-control required\" name=\"costpermonth\"\r\n                                            id=\"costpermonth\" value=\"0\" readonly />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </fieldset>\r\n\r\n                        <h6>Waranty Period & Image</h6>\r\n                        <fieldset>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>Start : </label>\r\n                                        <input type=\"text\" class=\"form-control pickadate required\" name=\"startwarranty\"\r\n                                            id=\"startwarranty\" value=\"<?php date_default_timezone_set('Asia/Jakarta');\r\necho date('d-m-Y');?>\">\r\n                                        <!-- <input type=\"text\" name=\"experience-company\" placeholder=\"Start Warranty\" class=\"form-control\" id = \"startwarranty\"> -->\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                                <div class=\"col-md-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>End:</label>\r\n                                        <input type=\"text\" class=\"form-control pickadate required\" name=\"endwarranty\"\r\n                                            id=\"endwarranty\" value=\"<?php date_default_timezone_set('Asia/Jakarta');\r\necho date('d-m-Y');?>\">\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <!-- <label class=\"d-block\">Attachment:</label> -->\r\n                                        <!-- <p class=\"font-weight-semibold\">Multiple file upload example:</p> -->\r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <label\r\n                                                class=\"col-lg-2 col-form-label font-weight-semibold\">Attachment:</label>\r\n                                            <div class=\"col-lg-10\">\r\n                                                <input type=\"file\" name=\"myfile[]\" class=\"file-input\"\r\n                                                    multiple=\"multiple\" data-fouc>\r\n                                                <span class=\"form-text text-muted\">Automatically convert a file input to\r\n                                                    a bootstrap file input widget by setting its class as\r\n                                                    <code>file-input</code>.</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <!-- <input type=\"file\" name=\"resume\" class=\"form-input-styled required\" multiple data-fouc> -->\r\n                                        <span class=\"form-text text-muted\">Accepted image only</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n                        </fieldset>\r\n\r\n                        <h6>Custom</h6>\r\n                        <fieldset>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>Template : </label>\r\n                                        <input type=\"hidden\" id=\"template\" name=\"template\">\r\n                                        <b><label id=\"templatename\">-</label></b>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n\r\n\r\n\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-12\">\r\n                                    <input type=\"hidden\" name=\"idcustomquestion\" id=\"idcustomquestion\">\r\n                                    <div class=\"form-group\" id=\"customquestion\">\r\n\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n\r\n\r\n\r\n                            </div>\r\n\r\n                        </fieldset>\r\n\r\n\r\n                    </form>\r\n                </div>\r\n\r\n                <!-- <form id = \"myform\">\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n                        <label for=\"idgroup\">Sister Company</label><input type=\"text\" class = \"form-control\" name=\"idgroup\" id=\"idgroup\" value = \"<?php echo $_SESSION['namasister']; ?>\" disabled />\r\n                        <br class=\"clear\" /> \r\n                        <label for=\"idgroup\">Group</label>\r\n                        <select class=\"form-control\" id=\"group\">\r\n                                <?php\r\n                                for($i = 0 ; $i < count($myasset); $i++)\r\n                                {\r\n                                    echo '<option value = \"'.$myasset[$i]['id'].'\">'.$myasset[$i]['nama'].'</option>';\r\n                                }\r\n                                ?>\r\n                            </select>\r\n                        <br class=\"clear\" /> \r\n                        <label for=\"idsubgroup\">Subgroup</label>\r\n                        <select class=\"form-control\" id=\"subgroup\">\r\n                            </select>\r\n                        <br class=\"clear\" /> \r\n                        <label for=\"idcategory\">Category</label>\r\n                        <select class=\"form-control\" id=\"category\">\r\n                            </select>\r\n                        <br class=\"clear\" /> \r\n                        <label for=\"idinitialcondition\">Initial Condition</label>\r\n                        <select class=\"form-control\" id=\"initialcondition\">\r\n                                <?php\r\n                                for($i = 0 ; $i < count($myinitial); $i++)\r\n                                {\r\n                                    echo '<option value = \"'.$myinitial[$i]['id'].'\">'.$myinitial[$i]['initial_condition'].'</option>';\r\n                                }\r\n                                ?>\r\n                            </select>\r\n                        <br class=\"clear\" /> \r\n                        <label for=\"idcondition\">Condition</label>\r\n                        <select class=\"form-control\" id=\"condition\">\r\n                                <?php\r\n                                for($i = 0 ; $i < count($myconditions); $i++)\r\n                                {\r\n                                    echo '<option value = \"'.$myconditions[$i]['id'].'\">'.$myconditions[$i]['name'].'</option>';\r\n                                }\r\n                                ?>\r\n                            </select>\r\n                        <br class=\"clear\" /> \r\n                        <label for=\"noasset\">No Asset</label><input type=\"text\" class = \"form-control\"  name=\"noasset\" id=\"noasset\" />\r\n                        <br class=\"clear\" /> \r\n                        <label for=\"name\">Name</label><input type=\"text\" class = \"form-control\"  name=\"name\" id=\"name\" />\r\n                        <br class=\"clear\" />  \r\n                        <br class=\"clear\" /> \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form> -->\r\n            </div>\r\n            <!-- <div class=\"modal-footer\">\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onclick=\"adddata()\">Save</button>\r\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" id = \"canceladd\">Cancel</button>\r\n\t\t\t\t\t</div> -->\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"myModaledit\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\" style=\"background-color:#324148;color:white;height:60px;\">\r\n                <h5 class=\"modal-title\">Edit Personel</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">Ã—</span>\r\n                </button>\r\n\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <form id=\"myformedit\">\r\n                    <div class=\"form-group\">\r\n                        <input type=\"hidden\" id=\"idchange\">\r\n                        <label for=\"idgroup\">Sister Company</label><input type=\"text\" class=\"form-control\"\r\n                            name=\"idgroup\" id=\"idgroup\" value=\"<?php echo $_SESSION['namasister']; ?>\" disabled />\r\n                        <br class=\"clear\" />\r\n                        <label for=\"idgroup\">Group</label>\r\n                        <select class=\"form-control\" id=\"groupedit\">\r\n                            <?php\r\n                                for($i = 0 ; $i < count($myasset); $i++)\r\n                                {\r\n                                    echo '<option value = \"'.$myasset[$i]['id'].'\">'.$myasset[$i]['nama'].'</option>';\r\n                                }\r\n                                ?>\r\n                        </select>\r\n                        <br class=\"clear\" />\r\n                        <label for=\"idsubgroup\">Subgroup</label>\r\n                        <select class=\"form-control\" id=\"subgroupedit\">\r\n                        </select>\r\n                        <br class=\"clear\" />\r\n                        <label for=\"idcategory\">Category</label>\r\n                        <select class=\"form-control\" id=\"categoryedit\">\r\n                        </select>\r\n                        <br class=\"clear\" />\r\n                        <label for=\"idinitialcondition\">Initial Condition</label>\r\n                        <select class=\"form-control\" id=\"initialconditionedit\">\r\n                            <?php\r\n                                for($i = 0 ; $i < count($myinitial); $i++)\r\n                                {\r\n                                    echo '<option value = \"'.$myinitial[$i]['id'].'\">'.$myinitial[$i]['initial_condition'].'</option>';\r\n                                }\r\n                                ?>\r\n                        </select>\r\n                        <br class=\"clear\" />\r\n                        <label for=\"idcondition\">Condition</label>\r\n                        <select class=\"form-control\" id=\"conditionedit\">\r\n                            <?php\r\n                                for($i = 0 ; $i < count($myconditions); $i++)\r\n                                {\r\n                                    echo '<option value = \"'.$myconditions[$i]['id'].'\">'.$myconditions[$i]['name'].'</option>';\r\n                                }\r\n                                ?>\r\n                        </select>\r\n                        <br class=\"clear\" />\r\n                        <label for=\"noasset\">No Asset</label><input type=\"text\" class=\"form-control\" name=\"noasset\"\r\n                            id=\"noassetedit\" />\r\n                        <br class=\"clear\" />\r\n                        <label for=\"name\">Name</label><input type=\"text\" class=\"form-control\" name=\"name\"\r\n                            id=\"nameedit\" />\r\n                        <br class=\"clear\" />\r\n                        <br class=\"clear\" />\r\n\r\n\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-primary\" onclick=\"changedata()\">Save</button>\r\n                <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" id=\"canceledit\">Cancel</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"modal fade\" id=\"myModalDisplay\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\" style=\"background-color:#324148;color:white;height:60px;\">\r\n                <h5 class=\"modal-title\">Asset Display</h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">Ã—</span>\r\n                </button>\r\n\r\n            </div>\r\n            <div class=\"modal-body\" style=\"padding:10px !important;\">\r\n\r\n                <ul class=\"nav nav-tabs nav-tabs-solid border-0 nav-justified rounded\" id=\"mynav\"\r\n                    style=\"margin-top:10px;\">\r\n                    <li class=\"nav-item\"><a id=\"myfirst\" href=\"#first\" class=\"nav-link rounded-left active\"\r\n                            data-toggle=\"tab\">General</a></li>\r\n                    <li class=\"nav-item\"><a href=\"#colored-rounded-justified-tab2\" class=\"nav-link\"\r\n                            data-toggle=\"tab\">Purchase</a></li>\r\n                    <li class=\"nav-item\"><a id = \"mydepreciation\" href=\"#depreciation\" class=\"nav-link\"\r\n                            data-toggle=\"tab\">Depreciation</a></li>\r\n                    <li class=\"nav-item\"><a href=\"#colored-rounded-justified-tab3\" class=\"nav-link\"\r\n                            data-toggle=\"tab\">Warranty </a></li>\r\n                    <li class=\"nav-item\"><a href=\"#colored-rounded-justified-tab4\" class=\"nav-link\"\r\n                            data-toggle=\"tab\">Image </a></li>\r\n                    <li class=\"nav-item\"><a href=\"#additionalinfo\" class=\"nav-link\" data-toggle=\"tab\">Custom</a></li>\r\n\r\n                </ul>\r\n\r\n                <div class=\"tab-content\" style=\"margin-left:10px;\">\r\n                    <div class=\"tab-pane fade show active\" id=\"first\">\r\n                        <h4><span class=\"font-weight-semibold\">General Info</span></h4>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Asset No.</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"noassetlabelgeneral\">Asset No.</label></b>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Asset Name</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"nameassetlabelgeneral\">Asset No.</label></b>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Asset Group</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"groupassetlabelgeneral\">Asset No.</label></b>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Asset Subgroup</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"subgroupassetlabelgeneral\">Asset No.</label></b>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Asset Category</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"categoryassetlabelgeneral\">Asset No.</label></b>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Asset Condition</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"conditionassetlabelgeneral\">Asset No.</label></b>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <label for=\"noasset\">Asset Initial Cond</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"initialassetlabelgeneral\">Asset No.</label></b>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"tab-pane fade\" id=\"colored-rounded-justified-tab2\">\r\n                        <h4><span class=\"font-weight-semibold\">Purchase Info</span></h4>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">No PO.</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"nopolabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Purchase Price</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"purchasepricelabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Posting Date</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"postingdatelabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-8\">\r\n                                <label for=\"noasset\">Purchase From</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"purchasefromlabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">PPN</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"ppnlabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <br>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Total Purchase Price</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"totalpurchasepricelabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Economical Life Time</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"economicallifetimelabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <label for=\"noasset\">Cost Per Month</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"costpermonthlabelpurchase\">Asset No.</label></b>\r\n                            </div>\r\n                        </div>\r\n                        <br>\r\n                       \r\n                    </div>\r\n                    <div class=\"tab-pane fade\" id=\"depreciation\">\r\n                        <div class=\"row\" style=\"height:100% !important;margin-right:1px !important; overflow-y:auto;\">\r\n                            <div class=\"col-md-12\">\r\n                                <h4><span class=\"font-weight-semibold\">Depreciation Info</span></h4>\r\n                                <table  id=\"mydatatable\" class=\"table table-hover table-bordered display \">\r\n                                    <thead >\r\n                                        <tr >\r\n                                            <th>Month</th>\r\n                                            <th>Depreciation</th>\r\n                                            <th>Book Value</th>\r\n                                            <th>Status</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody id = \"depreciationtablebody\">\r\n                                        <!-- <tr>\r\n                                            <td>1</td>\r\n                                            <td>Rp 1.000.000</td>\r\n                                            <td>Rp 11.000.000</td>\r\n                                            <td><b><i style = \"font-size:17px; color : #26a69a;font-weight:bold;\" class=\"mi-check\"></i><b></td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>1</td>\r\n                                            <td>Rp 1.000.000</td>\r\n                                            <td>Rp 11.000.000</td>\r\n                                            <td><b><i style = \"font-size:17px; color : #ebba34;font-weight:bold;\" class=\"mi-timer\"></i><b></td>\r\n                                        \r\n                                        </tr> -->\r\n                                       \r\n                                    </tbody>\r\n\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"tab-pane fade\" id=\"colored-rounded-justified-tab3\">\r\n                        <h4><span class=\"font-weight-semibold\">Warranty Info</span></h4>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-6\">\r\n                                <label for=\"noasset\">Start Date</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"startdatelabelwarranty\">Asset No.</label></b>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <label for=\"noasset\">End Date</label>\r\n                                <br>\r\n                                <b> <label for=\"noasset\" id=\"enddatelabelwarranty\">Asset No.</label></b>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"tab-pane fade\" id=\"colored-rounded-justified-tab4\">\r\n                        <h4><span class=\"font-weight-semibold\">Attachment</span></h4>\r\n                        <div id=\"myattach\"></div>\r\n                    </div>\r\n                    <div class=\"tab-pane fade\" id=\"additionalinfo\">\r\n                        <h4><span class=\"font-weight-semibold\">Additional Info</span></h4>\r\n                        <div id=\"containercustominfo\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n</body>\r\n\r\n</html>\r\n<script src='//cdn.jsdelivr.net/npm/sweetalert2@11'></script>\r\n<script>\r\n    // $('body').scrollspy({ target: '.sidebar' });\r\n    $(\"#group\").trigger('change');\r\n    var myopenid = \"\";\r\n    var globaltotalpurchaseprice = 0;\r\n    var globalcostpermonth = 0;\r\n    function openmodaldisplay(element) {\r\n        //general\r\n        myopenid = element.id;\r\n        var myid = element.id;\r\n        var noassetgeneral = $(\"#noasset\" + myid).text();\r\n        var nameassetgeneral = $(\"#name\" + myid).text();\r\n        var groupassetgeneral = $(\"#group\" + myid).text();\r\n        var subgroupassetgeneral = $(\"#subgroup\" + myid).text();\r\n        var categoryassetgeneral = $(\"#category\" + myid).text();\r\n        var conditionassetgeneral = $(\"#condition\" + myid).text();\r\n        var initialassetgeneral = $(\"#initial\" + myid).text();\r\n        $(\"#noassetlabelgeneral\").text(noassetgeneral);\r\n        $(\"#nameassetlabelgeneral\").text(nameassetgeneral);\r\n        $(\"#groupassetlabelgeneral\").text(groupassetgeneral);\r\n        $(\"#subgroupassetlabelgeneral\").text(subgroupassetgeneral);\r\n        $(\"#categoryassetlabelgeneral\").text(categoryassetgeneral);\r\n        $(\"#conditionassetlabelgeneral\").text(conditionassetgeneral);\r\n        $(\"#initialassetlabelgeneral\").text(initialassetgeneral);\r\n\r\n\r\n        var nopopurchase = $(\"#nopo\" + myid).val();\r\n        var purchasefrompurchase = $(\"#relation\" + myid).val();\r\n        var postingdatepurchase = $(\"#postingdate\" + myid).val();\r\n        // alert(postingdatepurchase);\r\n        var purchasepricepurchase = $(\"#purchaseprice\" + myid).val();\r\n        var ppnpurchase = $(\"#ppn\" + myid).val();\r\n        var totalpurchasepurchase = $(\"#totalpurchaseprice\" + myid).val();\r\n        var economicalpurchase = $(\"#economical\" + myid).val();\r\n        var costpermonthpurchase = $(\"#costpermonth\" + myid).val();\r\n\r\n         globaltotalpurchaseprice = parseInt(totalpurchasepurchase);\r\n         globalcostpermonth = parseInt(costpermonthpurchase);\r\n\r\n        $(\"#nopolabelpurchase\").text(nopopurchase);\r\n        $(\"#purchasefromlabelpurchase\").text(purchasefrompurchase);\r\n        $(\"#postingdatelabelpurchase\").text(postingdatepurchase);\r\n        $(\"#purchasepricelabelpurchase\").text(purchasepricepurchase);\r\n        $(\"#ppnlabelpurchase\").text(ppnpurchase);\r\n        $(\"#totalpurchasepricelabelpurchase\").text(totalpurchasepurchase);\r\n        $(\"#economicallifetimelabelpurchase\").text(economicalpurchase);\r\n        $(\"#costpermonthlabelpurchase\").text(costpermonthpurchase);\r\n\r\n        var startdate = $(\"#startdate\" + myid).val();\r\n        var enddate = $(\"#enddate\" + myid).val();\r\n        $(\"#startdatelabelwarranty\").text(startdate);\r\n        $(\"#enddatelabelwarranty\").text(enddate);\r\n\r\n\r\n        var myimage = $(\"#image\" + myid).val();\r\n\r\n        $(\"#myattach\").html(\"\");\r\n        var spliiterimage = myimage.split(\",\");\r\n\r\n        for (var i = 0; i < spliiterimage.length; i++) {\r\n            $(\"#myattach\").append(\r\n                \"<img class = 'myimg' id= 'test' onclick = 'mytoggleenlarge(this)' src = '<?=$url?>assets/attach/\" +\r\n                spliiterimage[i] + \"' style ='width:100px;height:100px;margin-left:20px;'>\");\r\n        }\r\n\r\n        $(\"a[href='#additionalinfo']\").attr(\"id\", myid);\r\n        $(\"#myfirst\").click();\r\n        // $('.myimg').on('click', function(){\r\n        //     var animWidth, $this=$(this);\r\n        //     if( $this.hasClass('wide') ){\r\n        //         animWidth=159;\r\n        //         $this.animate({width:'100px'}, \"slow\");\r\n        //         $('.myimg').removeClass(\"wide\");\r\n        //     }else{\r\n        //         animWidth=593;\r\n        //         // $('.myimg').removeClass(\"wide\");\r\n        //         $this.animate({width:'200px'}, \"slow\");\r\n        //          $('.myimg').addClass(\"wide\");\r\n        //     }\r\n\r\n        //     // alert(\"test\");\r\n        //   });\r\n    }\r\n\r\n    function mytoggleenlarge(element) {\r\n        var myclass = element.className;\r\n        // alert(myclass);\r\n        // var animWidth, $this=$(this);\r\n        var str1 = myclass;\r\n        var str2 = \"wide\";\r\n        var status = \"notfound\";\r\n        if (str1.indexOf(str2) != -1) {\r\n            status = \"found\";\r\n        }\r\n        if (status == \"found\") {\r\n            // alert(\"akan mengecil\");\r\n            // animWidth=159;\r\n            // $(\".myimg\")..animate({width:'100px'}, \"slow\")\r\n            $(element).animate({\r\n                width: '100px',\r\n                height: '100px'\r\n            }, \"slow\");\r\n            $(element).removeClass(\"wide\");\r\n        } else {\r\n            // animWidth=593;\r\n            // $('.myimg').removeClass(\"wide\");\r\n            // alert(\"akan membesar\");\r\n            $(\".wide\").animate({\r\n                width: '100px',\r\n                height: '100px'\r\n            }, \"slow\");\r\n            $(element).animate({\r\n                width: '200px',\r\n                height: '200px'\r\n            }, \"slow\");\r\n            $(element).addClass(\"wide\");\r\n        }\r\n\r\n        // alert(\"test\");\r\n\r\n    };\r\n    $(function () {\r\n        // loadData();\r\n    });\r\n\r\n    function loadData() {\r\n        $(\"#datatable_serverside\").DataTable({\r\n            processing: true,\r\n            deferRender: true,\r\n            serverSide: true,\r\n            destroy: true,\r\n            iDisplayInLength: 10,\r\n            scrollX: true,\r\n            order: [\r\n                [0, 'asc']\r\n            ],\r\n            ajax: {\r\n                url: 'process/masterassets.php',\r\n                method: 'POST',\r\n                data: {\r\n                    tipe: \"load\"\r\n                }\r\n            },\r\n            columns: [\r\n\r\n                {\r\n                    name: '#',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'No Asset',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'Name',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'Initial Condition',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'Condition',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'Group',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'SubGroup',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'Category',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'Status',\r\n                    className: 'text-center align-middle'\r\n                },\r\n                {\r\n                    name: 'Action',\r\n                    searchable: false,\r\n                    orderable: false,\r\n                    className: 'text-center align-middle'\r\n                }\r\n\r\n            ]\r\n        });\r\n    };\r\n\r\n    // Reload table\r\n    function success() {\r\n        $('#datatable_serverside').DataTable().ajax.reload(null, false);\r\n    };\r\n\r\n    //setinactive active\r\n    function setstatus(setactionto) {\r\n        var elements = setactionto.split(\"-\");\r\n        var myid = elements[0];\r\n        var mystat = elements[1];\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: {\r\n                tipe: \"setstatus\",\r\n                myidchange: myid,\r\n                stat: mystat\r\n            },\r\n            success: function (result) {\r\n\r\n                success();\r\n                Swal.fire({\r\n                    title: 'Status Changed',\r\n                    text: 'Status Changed Successfully',\r\n                    icon: 'success',\r\n                    confirmButtonColor: '#53d408',\r\n                    allowOutsideClick: false,\r\n                }).then((result) => {\r\n\r\n                });\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n    var globalsubgroup = \"\";\r\n    var globalcategory = \"\";\r\n\r\n    function openmodaledit(element) {\r\n        // click-'.$row['id'].'-'.$row['idgroup'].'-'.$row['idsubgroup'].'-'.$row['idcategory'].'-'.\r\n        // $row['idinitialcondition'].'-'.$row['idcondition'].'\"\r\n        var idelement = element.id.split(\"-\");\r\n        var idgroup = idelement[2];\r\n        var idsubgroup = idelement[3];\r\n        var idcategory = idelement[4];\r\n        var idinitialcondition = idelement[5];\r\n        var idcondition = idelement[6];\r\n\r\n\r\n        globalsubgroup = idsubgroup;\r\n        globalcategory = idcategory;\r\n\r\n\r\n        var noasset = $(\"#noasset\" + idelement[1]).text();\r\n        var name = $(\"#name\" + idelement[1]).text();\r\n        $(\"#noassetedit\").val(noasset);\r\n        $(\"#nameedit\").val(name);\r\n        $('#groupedit option[value=' + idgroup + ']').prop('selected', true);\r\n        $('#initialconditionedit option[value=' + idinitialcondition + ']').prop('selected', true);\r\n        $('#conditionedit option[value=' + idcondition + ']').prop('selected', true);\r\n        $(\"#groupedit\").trigger('change');\r\n        $(\"#idchange\").val(idelement[1]);\r\n    }\r\n\r\n    function searchsubgroup(element) {\r\n        var myid = element.value;\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: {\r\n                tipe: \"getsubgroup\",\r\n                idgroup: myid\r\n\r\n            },\r\n            success: function (result) {\r\n                // alert(result);\r\n                if (result == \"none\") {\r\n                    $(\"#subgroup\").html(\"\");\r\n\r\n                } else {\r\n                    $(\"#subgroup\").html(result).promise().done(function () {\r\n\r\n\r\n                    });\r\n                }\r\n                $(\"#subgroup\").trigger('change');\r\n\r\n\r\n            }\r\n        });\r\n    };\r\n\r\n    function searchcategory(element) {\r\n        var myid = element.value;\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: {\r\n                tipe: \"getcategory\",\r\n                idsubgroup: myid\r\n\r\n            },\r\n            success: function (result) {\r\n                // alert(result);\r\n                if (result == \"none\") {\r\n                    $(\"#category\").html(\"\");\r\n                } else {\r\n                    $(\"#category\").html(result).promise().done(function () {});\r\n                }\r\n                $(\"#category\").trigger(\"change\");\r\n            }\r\n        });\r\n    };\r\n    $(\"#groupedit\").on('change', function () {\r\n        var myid = this.value;\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: {\r\n                tipe: \"getsubgroup\",\r\n                idgroup: myid\r\n\r\n            },\r\n            success: function (result) {\r\n                // alert(result);\r\n                if (result == \"none\") {\r\n                    $(\"#subgroupedit\").html(\"\");\r\n\r\n                } else {\r\n                    $(\"#subgroupedit\").html(result).promise().done(function () {\r\n                        if (!globalsubgroup == \"\") {\r\n                            // alert(globalid);\r\n                            $('#subgroupedit').find('option[value=\"' + globalsubgroup +\r\n                                '\"]').prop('selected', true);\r\n                        }\r\n\r\n                    });\r\n                }\r\n                $(\"#subgroupedit\").trigger('change');\r\n\r\n\r\n            }\r\n        });\r\n    }).trigger('change');\r\n    $(\"#subgroupedit\").on('change', function () {\r\n        var myid = this.value;\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: {\r\n                tipe: \"getcategory\",\r\n                idsubgroup: myid\r\n\r\n            },\r\n            success: function (result) {\r\n                // alert(result);\r\n                if (result == \"none\") {\r\n                    $(\"#categoryedit\").html(\"\");\r\n                } else {\r\n                    $(\"#categoryedit\").html(result).promise().done(function () {\r\n                        if (!globalcategory == \"\") {\r\n                            // alert(globalid);\r\n                            $('#categoryedit').find('option[value=\"' + globalcategory +\r\n                                '\"]').prop('selected', true);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }).trigger('change');\r\n\r\n    function adddata() {\r\n        var group = $(\"#group\").val();\r\n        var subgroup = $('#subgroup').val();\r\n        var category = $('#category').val();\r\n        var initialcondition = $('#initialcondition').val();\r\n        var condition = $('#condition').val();\r\n        var noasset = $('#noasset').val();\r\n        var name = $('#name').val();\r\n        if (noasset == \"\" || name == \"\" || group == null || subgroup == null || category == null || initialcondition ==\r\n            null || condition == null) {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Empty Field',\r\n                text: 'Requirement data cannot be empty',\r\n                confirmButtonColor: '#e00d0d',\r\n            });\r\n        } else {\r\n            $.ajaxSetup({\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n                }\r\n            });\r\n            $.ajax({\r\n                url: \"process/masterassets.php\",\r\n                method: 'POST',\r\n                data: {\r\n                    tipe: \"add\",\r\n                    group: group,\r\n                    subgroup: subgroup,\r\n                    category: category,\r\n                    initialcondition: initialcondition,\r\n                    condition: condition,\r\n                    noasset: noasset,\r\n                    name: name\r\n\r\n                },\r\n                success: function (result) {\r\n                    //    alert(result);\r\n                    if (result == \"sukses\") {\r\n                        success();\r\n                        Swal.fire({\r\n                            title: 'Data Saved',\r\n                            text: 'Data Inputted Successfully',\r\n                            icon: 'success',\r\n                            confirmButtonColor: '#53d408',\r\n                            allowOutsideClick: false,\r\n                        }).then((result) => {\r\n                            $(\"#myform\").trigger(\"reset\");\r\n                            $(\"#canceladd\").click();\r\n                        });\r\n                    } else {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Data Exists',\r\n                            text: 'Duplicate Entry For This Asset',\r\n                            confirmButtonColor: '#e00d0d',\r\n                        });\r\n                    }\r\n\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function changedata() {\r\n        var changeid = $(\"#idchange\").val();\r\n        var group = $(\"#groupedit\").val();\r\n        var subgroup = $('#subgroupedit').val();\r\n        var category = $('#categoryedit').val();\r\n        var initialcondition = $('#initialconditionedit').val();\r\n        var condition = $('#conditionedit').val();\r\n        var noasset = $('#noassetedit').val();\r\n        var name = $('#nameedit').val();\r\n        if (noasset == \"\" || name == \"\" || group == null || subgroup == null || category == null || initialcondition ==\r\n            null || condition == null) {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Empty Field',\r\n                text: 'Requirement data cannot be empty',\r\n                confirmButtonColor: '#e00d0d',\r\n            });\r\n        } else {\r\n            $.ajaxSetup({\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n                }\r\n            });\r\n            $.ajax({\r\n                url: \"process/masterassets.php\",\r\n                method: 'POST',\r\n                data: {\r\n                    tipe: \"changedata\",\r\n                    myid: changeid,\r\n                    group: group,\r\n                    subgroup: subgroup,\r\n                    category: category,\r\n                    initialcondition: initialcondition,\r\n                    condition: condition,\r\n                    noasset: noasset,\r\n                    name: name\r\n\r\n                },\r\n                success: function (result) {\r\n                    if (result == \"sukses\") {\r\n                        success();\r\n                        Swal.fire({\r\n                            title: 'Data Changed',\r\n                            text: 'Data Changed Successfully',\r\n                            icon: 'success',\r\n                            confirmButtonColor: '#53d408',\r\n                            allowOutsideClick: false,\r\n                        }).then((result) => {\r\n                            $(\"#myformedit\").trigger(\"reset\");\r\n                            $(\"#canceledit\").click();\r\n                        });\r\n                    } else {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Data Exists',\r\n                            text: 'Duplicate Entry For This Assets',\r\n                            confirmButtonColor: '#e00d0d',\r\n                        });\r\n                    }\r\n\r\n\r\n\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    function mytemplatechange(element) {\r\n        //    alert(\"test\");\r\n        var myid = element.value;\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: {\r\n                tipe: \"getcustomquestion\",\r\n                idtemplate: myid\r\n\r\n            },\r\n            success: function (result) {\r\n                $(\"#customquestion\").html(\"\");\r\n                if (result == \"none\") {\r\n                    $(\"#customquestion\").html(\r\n                        \"<span style = 'color:grey;'>There is no custom field on this template, Go Ahead</span>\"\r\n                        );\r\n                    $(\"#idcustomquestion\").val(\"\");\r\n                } else {\r\n                    var splitresult = result.split(\"~~\");\r\n                    var allquestion = splitresult[1];\r\n                    $(\"#customquestion\").html(allquestion);\r\n                    $(\"#idcustomquestion\").val(splitresult[0]);\r\n                }\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    function addassetform() {\r\n        var form = $(\"#myform\"); // You need to use standard javascript object here\r\n        var formData = new FormData(form[0]);\r\n\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: formData,\r\n            processData: false,\r\n            contentType: false,\r\n            success: function (result) {\r\n                // alert(result);\r\n                if (result == \"sukses\") {\r\n                    success();\r\n                    Swal.fire({\r\n                        title: 'Data Saved',\r\n                        text: 'Data Inputted Successfully',\r\n                        icon: 'success',\r\n                        confirmButtonColor: '#53d408',\r\n                        allowOutsideClick: false,\r\n                    }).then((result) => {\r\n                        // $( \"#myform\" ).steps('reset');\r\n                        $(\".first a\").click();\r\n                        $(\".first\").attr(\"class\", \"first current\");\r\n                        $(\".done\").attr(\"class\", \"disabled\");\r\n\r\n                        $(\"#myform\").trigger(\"reset\");\r\n\r\n                        $('#myModal').modal('toggle');\r\n                    });\r\n                } else {\r\n\r\n                    Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Data Exists',\r\n                        text: 'Duplicate Entry For This Asset',\r\n                        confirmButtonColor: '#e00d0d',\r\n                    });\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    function isNumber(event) {\r\n        // var iKeyCode = (evt.which) ? evt.which : event.keyCode;\r\n\r\n        if ((event.keyCode >= 48 && event.keyCode <= 57) || event.keyCode == 8) {\r\n            // alert(event.keyCode);\r\n            // alert(event.keyCode);\r\n            var totalpurchaseprice = $(\"#totalpurchaseprice\").val();\r\n            var economicallifetime = $(\"#economicallifetime\").val();\r\n            // alert(purchaseprice + \" -- \" + economicallifetime  );\r\n            var costpermonth = parseFloat(totalpurchaseprice) / parseFloat(economicallifetime);\r\n            $(\"#costpermonth\").val(costpermonth);\r\n            return true;\r\n\r\n        } else {\r\n            // alert(event.keyCode);\r\n            return false;\r\n\r\n\r\n        }\r\n\r\n\r\n    };\r\n\r\n    function getallanswercustomquestion(idasset) {\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n            }\r\n        });\r\n        $.ajax({\r\n            url: \"process/masterassets.php\",\r\n            method: 'POST',\r\n            data: {\r\n                tipe: \"getallanswer\",\r\n                idassets: idasset\r\n            },\r\n            success: function (result) {\r\n                // alert(result);\r\n                if (result == \"none\") {\r\n                    $(\"#containercustominfo\").html(\r\n                        \"<span style = 'color:grey;'>Oops, there is no custom field on this template</span>\"\r\n                        );\r\n\r\n                } else {\r\n                    $(\"#containercustominfo\").html(result);\r\n\r\n\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n    $(document).ready(function () {\r\n\r\n        $(\"a[href='#additionalinfo']\").on(\"click\", function () {\r\n            var myid = this.id;\r\n            // alert(\"test\");\r\n            getallanswercustomquestion(myid);\r\n\r\n        });\r\n        $(\"#mydepreciation\").on(\"click\", function(){\r\n            $(\"#depreciationtablebody\").html(\"\");\r\n            var postingdate = $(\"#postingdateraw\" + myopenid).val();\r\n            var totalmonth = $(\"#totalmonth\"+myopenid).val();\r\n            \r\n            var date1 = new Date(postingdate);\r\n            var date2 = new Date(Date.now());\r\n            var diffYears = date2.getFullYear()-date1.getFullYear();\r\n            var diffMonths = date2.getMonth()-date1.getMonth();\r\n            var diffDays = date2.getDate()-date1.getDate();\r\n\r\n            var months = (diffYears*12 + diffMonths);\r\n            var totalprice =  globaltotalpurchaseprice;\r\n            // alert(date1);\r\n            for(var i = 0 ; i < parseInt(totalmonth); i++)\r\n            {\r\n                var month = i+1;\r\n                    totalprice -= globalcostpermonth;\r\n                if((i+1)<=parseInt(months))\r\n                {\r\n                   \r\n                    var mystring = '<tr><td>'+month+'</td><td>Rp '+globalcostpermonth+'</td><td>Rp '+totalprice+'</td><td><b><i style = \"font-size:17px; color : #26a69a;font-weight:bold;\" class=\"mi-check\"></i><b></td></tr>';\r\n                    $(\"#depreciationtablebody\").append(mystring);\r\n                }\r\n                else{\r\n                    var mystring = '<tr><td>'+month+'</td><td>Rp '+globalcostpermonth+'</td><td>Rp '+totalprice+'</td><td><b><i style = \"font-size:17px; color : #ebba34;font-weight:bold;\" class=\"mi-timer\"></i><b></td></tr>';\r\n                    $(\"#depreciationtablebody\").append(mystring);\r\n                }\r\n              \r\n            }\r\n           \r\n                                        // <tr>\r\n                                        //     <td>1</td>\r\n                                        //     <td>Rp 1.000.000</td>\r\n                                        //     <td>Rp 11.000.000</td>\r\n                                        //     <td><b><i style = \"font-size:17px; color : #ebba34;font-weight:bold;\" class=\"mi-timer\"></i><b></td>\r\n                                        \r\n                                        // </tr>\r\n        });\r\n\r\n        $('#templates').trigger('change');\r\n        $(\"#myform\").off(\"finished\");\r\n        $(\"#myform\").on(\"finished\", function (event, currentIndex) {\r\n            addassetform();\r\n        });\r\n\r\n        $('#postingdate').pickadate({\r\n            format: 'dd-mm-yyyy'\r\n        });\r\n        $('#startwarranty').pickadate({\r\n            format: 'dd-mm-yyyy'\r\n        });\r\n        $('#endwarranty').pickadate({\r\n            format: 'dd-mm-yyyy'\r\n        });\r\n        $(\"#category\").on(\"change\", function () {\r\n            var myvalues = this.value;\r\n            $.ajaxSetup({\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n                }\r\n            });\r\n            $.ajax({\r\n                url: \"process/masterassets.php\",\r\n                method: 'POST',\r\n                data: {\r\n                    tipe: \"gettemplatecategory\",\r\n                    idcategory: myvalues\r\n                },\r\n                success: function (result) {\r\n                    // alert(result);\r\n\r\n                    if (result == \"another\") {\r\n                        $(\"#containercustominfo\").html(\r\n                            \"<span style = 'color:red;'>Please choose another category, this category doesnt have template</span>\"\r\n                            );\r\n\r\n                        $(\"#template\").val(\"\");\r\n\r\n                    } else {\r\n\r\n                        var mysplittter = result.split(\"~~~\");\r\n                        var nametemplate = mysplittter[1];\r\n                        var idtemplate = mysplittter[0];\r\n                        $(\"#templatename\").text(nametemplate);\r\n                        $(\"#template\").val(idtemplate);\r\n                        if (mysplittter[1] == \"none\") {\r\n                            $(\"#containercustominfo\").html(\r\n                                \"<span style = 'color:grey;'>Oops, there is no custom field on this template</span>\"\r\n                                );\r\n                            $(\"#idcustomquestion\").val(\"\");\r\n                        } else {\r\n\r\n\r\n                            // $(\"#containercustominfo\").html(result);\r\n                            var splitresult = mysplittter[2].split(\"~~\");\r\n                            var allquestion = splitresult[1];\r\n                            $(\"#customquestion\").html(allquestion);\r\n                            $(\"#idcustomquestion\").val(splitresult[0]);\r\n\r\n                        }\r\n\r\n\r\n\r\n                    }\r\n\r\n                }\r\n            });\r\n        });\r\n\r\n        $(\"#purchaseprice\").on('keyup', function (event) {\r\n            // alert(event.keyCode);\r\n            if ((event.keyCode >= 48 && event.keyCode <= 57) || event.keyCode == 8) {\r\n\r\n                var myvalue = this.value;\r\n                var myppn = $(\"#ppn\").val();\r\n                if (myppn == \"0\") {\r\n                    $(\"#totalpurchaseprice\").val(myvalue);\r\n                } else {\r\n                    var total = parseFloat(myvalue) + (parseFloat(myvalue) * myppn);\r\n                    $(\"#totalpurchaseprice\").val(total);\r\n                }\r\n                var month = $(\"#economicallifetime\").val();\r\n                if (!this.value == \"\") {\r\n                    if (!(month == \"0\" || month == \"\")) {\r\n                        var costpermonth = parseFloat(myvalue) / month;\r\n                        $(\"#costpermonth\").val(costpermonth);\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n    });\r\n\r\n    function setppn(element) {\r\n        var myvalue = element.value;\r\n        var purchaseprice = $(\"#purchaseprice\").val();\r\n        var myppn = $(\"#ppn\").val();\r\n        var month = $(\"#economicallifetime\").val();\r\n\r\n        if (myppn == \"0\") {\r\n            $(\"#totalpurchaseprice\").val(purchaseprice);\r\n        } else {\r\n            var total = parseFloat(purchaseprice) + (parseFloat(purchaseprice) * myppn);\r\n            $(\"#totalpurchaseprice\").val(total);\r\n        }\r\n        if (!(month == \"0\" || month == \"\")) {\r\n            var mytotalprice = $(\"#totalpurchaseprice\").val();\r\n            var costpermonth = parseFloat(mytotalprice) / month;\r\n            $(\"#costpermonth\").val(costpermonth);\r\n        }\r\n        // alert(purchaseprice);\r\n    }\r\n</script>"
        }
    ]
}